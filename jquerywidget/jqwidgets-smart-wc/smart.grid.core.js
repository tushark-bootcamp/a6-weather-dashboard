
/* Smart HTML Elements v6.0.0 (2020-Jan) 
Copyright (c) 2011-2020 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-grid",class extends Smart.ScrollViewer{static get properties(){return{appearance:{value:{allowColumnFixing:{value:!1,type:"boolean"},alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},allowHover:{value:!1,type:"boolean",defaultReflectToAttribute:!0},allowHeaderHover:{value:!0,type:"boolean",defaultReflectToAttribute:!0},allowRowToggleAnimation:{value:!1,type:"boolean"},allowRowDetailToggleAnimation:{value:!1,type:"boolean"},allowSortAnimation:{value:!1,type:"boolean"},allowColumnLabelAnimation:{value:!0,type:"boolean"},allowCheckBoxesSelectionAnimation:{value:!0,type:"boolean"},allowColumnMenuAnimation:{value:!0,type:"boolean"},allowColumnSortButtonAnimation:{value:!0,type:"boolean"},allowColumnActionButtonAnimation:{value:!0,type:"boolean"},allowColumnFilterButtonAnimation:{value:!0,type:"boolean"},allowColumnStickyPosition:{value:!1,type:"boolean"},autoShowColumnSortButton:{value:!0,type:"boolean"},autoShowColumnActionButton:{value:!0,type:"boolean"},autoGenerateRowLabelMode:{value:"number",type:"string"},autoGenerateColumnLabelMode:{value:"letter",type:"string"},autoShowColumnFilterButton:{value:!0,type:"boolean"},displayLoadingIndicator:{value:!1,type:"boolean"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},placeholder:{value:"No Rows",type:"string"},sortAnimationDuration:{value:500,type:"number"},showRowHeader:{value:!1,type:"boolean"},showRowHeaderNumber:{value:!1,type:"boolean"},showRowHeaderEditIcon:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showRowHeaderSelectIcon:{value:!1,type:"boolean"},showRowHeaderFocusIcon:{value:!1,type:"boolean"},showColumnHeaderLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showColumnLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showRowLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showFilterColumnBackground:{value:!0,type:"boolean"},showSortColumnBackground:{value:!0,type:"boolean"},showFrozenColumnBackground:{value:!0,type:"boolean"},showFrozenRowBackground:{value:!0,type:"boolean"},showColumnSortButton:{value:!0,type:"boolean"},showColumnFilterButton:{value:!0,type:"boolean"},showColumnDescriptionButton:{value:!1,type:"boolean"},showColumnIcon:{value:!1,type:"boolean"},showColumnCustomButton:{value:!1,type:"boolean"},showColumnActionButton:{value:!0,type:"boolean"},showTooltips:{value:!1,type:"boolean"},showResizeTooltips:{value:!0,type:"boolean"},showHorizontalScrollBarOnFixedColumns:{value:!1,type:"boolean"},showVerticalScrollBarOnFixedColumns:{value:!1,type:"boolean"}},type:"object"},behavior:{value:{allowColumnAutoSizeOnDoubleClick:{value:!0,type:"boolean"},allowRowAutoSizeOnDoubleClick:{value:!0,type:"boolean"},allowColumnReorder:{value:!1,type:"boolean"},allowRowReorder:{value:!1,type:"boolean"},doubleClickTimingDelay:{value:300,type:"number"},columnResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]},rowResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]}},type:"object"},layout:{value:{allowCellsWrap:{value:!1,type:"boolean"},autoGenerateColumnWidth:{value:null,type:"number?"},columnWidth:{value:null,type:"any",reflectToAttribute:!1},columnHeight:{value:null,type:"any",reflectToAttribute:!1},columnMinHeight:{value:30,type:"any",reflectToAttribute:!1},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},rowMinHeight:{value:30,type:"number"},rowHeight:{value:null,type:"any",reflectToAttribute:!1}},type:"object"},dataExport:{value:{header:{value:!0,type:"boolean"},filterBy:{value:null,type:"object"},groupBy:{value:null,type:"object"},style:{value:null,type:"object"},fileName:{value:"smartGrid",type:"string?"},pageOrientation:{value:"portrait",type:"string"},expandChar:{value:"+",type:"string"},collapseChar:{value:"-",type:"string"},view:{value:!1,type:"boolean"},viewStart:{value:null,type:"number?"},viewEnd:{value:null,type:"number?"}},type:"object"},clipboard:{value:{enabled:{value:!0,type:"boolean"},autoFillMode:{value:"copy",allowedValues:["none","copy","fillSeries"],type:"string"},onPasteValue:{value:null,type:"any"}},type:"object"},columns:{value:[],type:"any",reflectToAttribute:!1},columnChooser:{value:{allowSearch:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"},label:{value:"Column Chooser",type:"string"},mode:{value:"dragAndDrop",type:"string",allowedValues:["select","dragAndDrop"]},placeholder:{value:"Drag a column here to hide it",type:"string"},width:{value:250,type:"number"},height:{value:200,type:"number"}},type:"object"},columnMenu:{value:{autoClose:{value:!0,type:"boolean"},dataSource:{value:{columnMenuCustomizeType:{value:{command:{value:"customizeTypeCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"smart-icon-ellipsis-vert",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemRename:{value:{command:{value:"renameCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"smart-icon-rename",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemEditDescription:{value:{command:{value:"editDescriptionCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"smart-icon-circled",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemDuplicate:{value:{command:{value:"duplicateCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"smart-icon-duplicate",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemInsertLeft:{value:{command:{value:"insertLeftCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"smart-icon-insert-left",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemInsertRight:{value:{command:{value:"insertRightCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"smart-icon-insert-right",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemSortAsc:{value:{command:{value:"sortAscCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"smart-icon-sort-name-up",type:"string"},iconAlt:{value:"smart-icon-sort-number-up",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemSortDesc:{value:{command:{value:"sortDescCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"smart-icon-sort-name-down",type:"string"},iconAlt:{value:"smart-icon-sort-number-down",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemRemoveSort:{value:{command:{value:"removeSortCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"smart-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemFilter:{value:{command:{value:"addFilterCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"smart-icon-add-filter",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemRemoveFilter:{value:{command:{value:"addFilterCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"smart-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemGroupBy:{value:{command:{value:"groupByCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"smart-icon-group",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemRemoveGroupBy:{value:{command:{value:"removeGroupByCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"smart-icon-ungroup",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemHide:{value:{command:{value:"hideColumnCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"smart-icon-visibility-off",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemDelete:{value:{command:{value:"deleteColumnCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"smart-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1}},type:"object",reflectToAttribute:!1},visible:{value:!1,type:"boolean"},enabled:{value:!0,type:"boolean"},width:{value:250,type:"number"},height:{value:null,type:"number?"}},type:"object",reflectToAttribute:!1},columnGroups:{value:[],type:"array",reflectToAttribute:!1},charting:{value:{appendTo:{value:null,type:"any"},enabled:{value:!1,type:"boolean"},colorScheme:{value:"scheme01",type:"string"},description:{value:"",type:"string"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:400,type:"any"},width:{value:400,type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},formatSettings:{value:{},type:"object"}},type:"object"},dataSource:{value:null,type:"any",reflectToAttribute:!1},grouping:{value:{enabled:{value:!1,type:"boolean",reflectToAttribute:!1},allowCollapse:{value:!1,type:"boolean",reflectToAttribute:!1},autoExpandAll:{value:!1,type:"boolean",reflectToAttribute:!1},expandMode:{value:"buttonClick",type:"string",allowedValues:["buttonClick","rowClick"],reflectToAttribute:!1},groupRowHeight:{value:50,type:"any",reflectToAttribute:!1},toggleButtonIndent:{value:16,type:"number",reflectToAttribute:!1},groupIndent:{value:16,type:"number",reflectToAttribute:!1},groupBar:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnDragDrop:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnCloseButtons:{value:!0,type:"boolean",reflectToAttribute:!1}},type:"object"},groupPanel:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1}},type:"object"},summaryRow:{value:{inline:{value:!0,type:"boolean"},visible:{value:!0,type:"boolean"}},type:"object"}},type:"object"},messages:{extend:!0,value:{en:{invalidColumnProperty:"{{elementType}}: Invalid property name \"{{propertyName}}\" set for Column: \"{{type}}\"",invalidRowProperty:"{{elementType}}: Invalid property name \"{{propertyName}}\" set for Row\"",frozenColumns:"{{elementType}}: To Pin/Freeze a column group, all columns within it should be frozen.",frozenRows:"{{elementType}}: To Pin/Freeze a special cell, all rows within it should be frozen.",columnGroups:"{{elementType}}: Please, check the initialization of the smartGrid's columns array. The columns in a column group are expected to be siblings in the columns array.",min:"Min: {{value}}",max:"Max: {{value}} ",sum:"Sum: {{value}} ",avg:"Avg: {{value}} ",count:"Count: {{value}} ",pagerFirstButton:"First",pagerLastButton:"Last",pagerPreviousButton:"Previous",pagerNextButton:"Next",pagerNavigateToLabel:"Go to:",pagerPageSizeLabel:"Show:",pagerNavigateToInputPlaceholder:"",pagerEllipsis:"...",pagerSummaryString:"of",pagerSummaryPrefix:"of",pagerSummarySuffix:"",columnMenuCustomizeType:"Customize type",columnMenuItemRename:"Rename",columnMenuItemEditDescription:"Edit description",columnMenuItemDuplicate:"Duplicate",columnMenuItemInsertLeft:"Insert left",columnMenuItemInsertRight:"Insert right",columnMenuItemSortAsc:"Sort {{mode}}",columnMenuItemSortDesc:"Sort {{mode}}",columnMenuItemRemoveSort:"Remove Sort",columnMenuItemFilter:"Filter",columnMenuItemRemoveFilter:"Remove Filter",columnMenuItemGroupBy:"Group by this column",columnMenuItemRemoveGroupBy:"Remove Group",columnMenuItemHide:"Hide",columnMenuItemDelete:"Delete",columnResizeTooltip:"width: {{value}}px",rowResizeTooltip:"height: {{value}}px",commandBarAddRow:"Add",commandBarDeleteRow:"Delete",commandBarBatchRevert:"Revert",commandBarBatchSave:"Save",commandColumnEdit:"Edit",commandColumnDelete:"Delete",commandColumnCancel:"Cancel",commandColumnUpdate:"Update",commandColumnMenu:"",addNewRow:"Click here to add a new row",dialogChartHeader:"{{value}} Chart",dialogRowDetailHeader:"Row Id: {{value}}",dialogRowDetailButtonConfirm:"OK",dialogRowDetailButtonCancel:"CANCEL",dialogEditHeader:"Edit {{value}}",dialogAddButtonConfirm:"ADD",dialogAddButtonCancel:"CANCEL",dialogEditButtonConfirm:"OK",dialogEditButtonCancel:"CANCEL",dialogDeleteButtonConfirm:"DELETE",dialogDeleteButtonCancel:"CANCEL",dialogAddHeader:"Add Row",dialogDeleteHeader:"Delete Row",dialogDeleteContent:"Are you sure you want to delete this row?",calendar:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","Dec","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],currencySymbol:"$",currencySymbolPosition:"before",decimalSeparator:".",thousandsSeparator:","}}},type:"object"},onCellValue:{value:null,type:"any",reflectToAttribute:!1},onCellUpdate:{value:null,type:"any",reflectToAttribute:!1},onBeforeInit:{value:null,type:"any",reflectToAttribute:!1},onInit:{value:null,type:"any",reflectToAttribute:!1},onAfterInit:{value:null,type:"any",reflectToAttribute:!1},onKey:{value:null,type:"any",reflectToAttribute:!1},onRender:{value:null,type:"any",reflectToAttribute:!1},onChartInit:{value:null,type:"any",reflectToAttribute:!1},onRowInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailUpdated:{value:null,type:"any",reflectToAttribute:!1},onRowInserted:{value:null,type:"any",reflectToAttribute:!1},onRowRemoved:{value:null,type:"any",reflectToAttribute:!1},onRowUpdate:{value:null,type:"any",reflectToAttribute:!1},onRowUpdated:{value:null,type:"any",reflectToAttribute:!1},onColumnInit:{value:null,type:"any",reflectToAttribute:!1},onColumnInserted:{value:null,type:"any",reflectToAttribute:!1},onColumnRemoved:{value:null,type:"any",reflectToAttribute:!1},onColumnUpdated:{value:null,type:"any",reflectToAttribute:!1},onCommand:{value:null,reflectToAttribute:!1,type:"any"},filtering:{value:{enabled:{value:!1,type:"boolean"},filter:{value:[],type:"array",reflectToAttribute:!1},filterRow:{value:{visible:{value:!1,type:"boolean"},menuVisible:{value:!1,type:"boolean"},applyMode:{value:"auto",type:"string",allowedValues:["auto","click"]},autoApplyModeDelay:{value:300,type:"number"}},type:"object"},filterMenu:{value:{visible:{value:!0,type:"boolean"},buttons:{value:["cancel","clear","filter"],type:"array"},dataSource:{value:null,type:"any"},width:{value:250,type:"number"},height:{value:200,type:"number"}},type:"object"},filterBuilder:{value:{visible:{value:!1,type:"boolean"},height:{value:null,type:"number?"}},type:"object"}},type:"object"},editing:{value:{allowRowHeaderEdit:{value:!1,type:"any"},allowColumnHeaderEdit:{value:!1,type:"any"},active:{value:!1,readonly:!0,type:"boolean"},enabled:{value:!1,type:"boolean"},batch:{value:!1,type:"any"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},commandKeys:{value:{commandKeyEdit:{value:{command:"commandKeyEditCommand",key:"F2"},type:"object"},commandKeyCancel:{value:{command:"commandKeyCancelCommand",key:"Escape"},type:"object"},commandKeyUpdate:{value:{command:"commandKeyUpdateCommand",key:"Enter | Tab"},type:"object"}},type:"object"},commandBar:{value:{visible:{value:!1,type:"boolean"},position:{value:"near",allowedValues:["near","far","both"],type:"string"},displayMode:{value:"labelAndIcon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandBarAddRow:{value:{command:{value:"commandBarAddRowCommand",type:"any"},icon:{value:"smart-icon-plus",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarDeleteRow:{value:{command:{value:"commandBarDeleteRowCommand",type:"any"},icon:{value:"smart-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarBatchSave:{value:{command:{value:"commandBarBatchSaveCommand",type:"any"},icon:{value:"smart-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandBarBatchRevert:{value:{command:{value:"commandBarBatchRevertCommand",type:"any"},icon:{value:"smart-icon-reload",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"}},type:"object"}},type:"object"},commandColumn:{value:{visible:{value:!1,type:"boolean"},inline:{value:!1,type:"boolean"},position:{value:"far",allowedValues:["near","far"],type:"string"},displayMode:{value:"icon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandColumnMenu:{value:{command:{value:"commandColumnMenuCommand",type:"any"},icon:{value:"smart-icon-menu",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnEdit:{value:{command:{value:"commandColumnEditCommand",type:"any"},icon:{value:"smart-icon-mode-edit",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnDelete:{value:{command:{value:"commandColumnDeleteCommand",type:"any"},icon:{value:"smart-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandColumnUpdate:{value:{command:{value:"commandColumnUpdateCommand",type:"any"},icon:{value:"smart-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnCancel:{value:{command:{value:"commandColumnCancelCommand",type:"any"},icon:{value:"smart-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnRowMenu:{value:{command:{value:"commandColumnRowMenuCommand",type:"any",reflectToAttribute:!1},icon:{value:"smart-icon-ellipsis-vert",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnCustom:{value:{command:{value:"",type:"any"},icon:{value:"smart-icon-ellipsis-vert",type:"string"},label:{value:"",type:"string"},visible:{value:!1,type:"any"}},type:"object"}},type:"object"},width:{value:null,type:"number?"}},reflectToAttribute:!1,type:"object"},mode:{value:"cell",allowedValues:["cell","row"],type:"string"},addNewRow:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},visible:{value:!1,type:"boolean"},autoCreate:{value:!1,type:"boolean"},autoSave:{value:!0,type:"boolean"},label:{value:"{{message}}",type:"string"},displayMode:{value:"row",allowedValues:["row","button"],type:"string"}},type:"object"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},addDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},deleteDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},paging:{value:{enabled:{value:!1,type:"boolean"},spinner:{value:{enabled:{value:!1,type:"boolean"},step:{value:1,type:"number"}},type:"object"},pageSize:{value:10,type:"int",validator:"pageSizeValidator"},pageIndex:{value:0,type:"int",validator:"pageIndexValidator"}},type:"object"},pager:{value:{autoEllipsis:{value:"both",allowedValues:["none","before","after","both"],type:"string"},position:{value:"far",allowedValues:["near","far","both"],type:"string"},template:{value:"",type:"string"},pageSizeSelector:{value:{visible:{value:!1,type:"boolean"},dataSource:{value:[10,20,50],type:"object"},position:{value:"far",allowedValues:["near","far"],type:"string"}},type:"object"},summary:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},navigationButtons:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},prevNextButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},firstLastButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},labels:{value:{visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},navigationInput:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},pageIndexSelectors:{value:{visible:{value:!0,type:"boolean"},dataSource:{value:10,type:"any"}},type:"object"},visible:{value:!1,type:"boolean"}},type:"object",reflectToAttribute:!1},rowDetail:{value:{enabled:{value:!1,type:"boolean"},height:{value:200,type:"number"},position:{value:"near",allowedValues:["near","far"],type:"string"},template:{value:"",type:"any",reflectToAttribute:!1},visible:{value:!0,type:"boolean"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:300,type:"any"},width:{value:360,type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},summaryRow:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},scrolling:{value:"physical",allowedValues:["physical","virtual","infinite","deferred"],type:"string"},columnHeader:{value:{visible:{value:!0,type:"boolean"}},type:"object"},groupHeader:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},header:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},footer:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},checkBoxes:{value:{visible:{value:!1,type:"boolean"},hasThreeStates:{value:!1,type:"boolean"}},type:"object"},selection:{value:{enabled:{value:!1,type:"boolean"},allowRowHeaderSelection:{value:!1,type:"boolean"},allowColumnHeaderSelection:{value:!1,type:"boolean"},allowRowSelection:{value:!0,type:"boolean"},allowCellSelection:{value:!1,type:"boolean"},allowDragSelection:{value:!0,type:"boolean"},allowDragSelectionAutoScroll:{value:!0,type:"boolean"},allowCellDragSelectionHandle:{value:!0,type:"boolean"},allowCellDragDropSelectionHandle:{value:!0,type:"boolean"},allowCellDragSelectionAutoFill:{value:!0,type:"boolean"},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},mode:{value:"many",type:"string",allowedValues:["one","many","extended"]},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},checkBoxes:{value:{enabled:{value:!1,type:"boolean"},autoShow:{value:!1,type:"boolean"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},position:{value:"near",allowedValues:["near","far"],type:"string"}},type:"object"},selected:{value:"",type:"string"}},type:"object"},sorting:{value:{enabled:{value:!1,type:"boolean"},sort:{value:[],type:"array"},mode:{value:"one",allowedValues:["one","many"],type:"string"},sortToggleThreeStates:{value:!0,type:"boolean"}},type:"object"}}}static get requires(){return{}}static get styleUrls(){return["smart.menu.css","smart.filterpanel.css","smart.pager.css","smart.grid.css","smart.textbox.css"]}template(){return`<div class=\'smart-container\'id=\'container\' disabled=\'[[disabled]]\' role=\'grid\'>
                <div id=\'header\' class=\'smart-grid-header smart-hidden\' ></div>
                <div id=\'groupHeader\' class=\'smart-grid-group-header smart-hidden\'></div>
                <div id=\'headerPager\' top class=\'smart-grid-pager smart-hidden\'></div>
                <div id=\'headerCommandBar\' header top class=\'smart-grid-header smart-grid-command-bar smart-hidden\'></div>
                 <div id=\'content\' class=\'smart-grid-content\'>
                    <div id=\'placeholder\' class =\'smart-hidden smart-placeholder smart-grid-placeholder\'></div>
                    <div id=\'columnHeader\' class=\'smart-grid-column-header\'>
                        <div id=\'columnNearContainer\' class=\'near smart-hidden smart-grid-column-header-cell-container\'>
                       </div>
                       <div id=\'columnContainer\' class=\'center smart-grid-column-header-cell-container\'>
                       </div>
                        <div id=\'columnFarContainer\' class=\'far smart-hidden smart-grid-column-header-cell-container\'>
                       </div>
                    </div>
                    <div id=\'scrollView' class =\'smart-grid-scroll-view\'>
                        <div id=\'rowNearContainer\' class=\'near smart-hidden smart-grid-row-container\'>
                        </div>
                         <div id=\'rowContainer\' class=\'center smart-grid-row-container\'>
                        </div>
                        <div id=\'rowFarContainer\' class=\'far smart-hidden smart-grid-row-container\'>
                        </div>
                        <smart-scroll-bar id=\'verticalScrollBar\' class=\'smart-grid-scroll-bar\' wait disabled=\'[[disabled]]\' orientation=\'vertical\'></smart-scroll-bar>
                        <smart-scroll-bar id=\'horizontalScrollBar\' class=\'smart-grid-scroll-bar\' wait disabled=\'[[disabled]]\'></smart-scroll-bar>
                    </div>
                  <div id=\'filterFooter\' class=\'smart-grid-filter-footer smart-hidden\'></div>
                </div>
                <div id=\'loadingIndicatorContainer\' class=\'smart-loader-container\'>
                    <span id=\'loadingIndicator\' class=\'smart-grid-loader smart-loader\'></span>
                    <span id=\'loadingIndicatorPlaceholder\' class =\'smart-loader-label smart-hidden\'></span>
                </div>
                <div id=\'footerCommandBar\' footer class=\'smart-grid-footer smart-grid-command-bar smart-hidden\'></div>
                <div id=\'footerPager\' class=\'smart-grid-pager smart-hidden\'></div>
                <div id=\'footer\' class=\'smart-grid-footer smart-hidden\'></div>
            </div>`}static get listeners(){return{focus:"_focusHandler",blur:"_blurHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler","document.move":"_moveHandler","document.scroll":"_scrollHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler","columnHeader.down":"_columnDownHandler","columnHeader.move":"_columnMoveHandler","columnHeader.mouseleave":"_columnMouseLeaveHandler","rowNearContainer.down":"_rowDownHandler","rowContainer.down":"_rowDownHandler","rowFarContainer.down":"_rowDownHandler","container.selectstart":"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler"}}pageSizeValidator(e,t){const l=this;return 0>t?0:l.dataSource&&t>l.dataSource.length?l.dataSource.length:void 0}pageIndexValidator(e,t){const l=this;if(0>t)return 0;if(l.dataSource){const e=Math.ceil(l.dataSource.length/l.paging.pageSize);if(t>e-1)return e-1}}_offsetTop(e){const t=this;return e?e.offsetTop+t._offsetTop(e.offsetParent):0}_offsetLeft(e){const t=this;return e?e.offsetLeft+t._offsetLeft(e.offsetParent):0}offset(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}}getBoundingRect(e){const t=this;let l=window.pageXOffset,o=window.pageYOffset,n=e.getBoundingClientRect();if(e!==document.body)for(let n=e.parentNode;n!==document.body;)l+=n.scrollLeft,o+=n.scrollTop,n=n.parentNode,t.enableShadowDOM&&n===t.shadowRoot?n=t:t.isInShadowDOM&&n===t.getRootNode()&&(n=t.getRootNode().host);return{bottom:n.bottom+o,height:n.height,left:n.left+l,right:n.right+l,top:n.top+o,width:n.width}}_upHandler(e){const t=this,l=t.getBoundingRect(t);if(t._tapTimer&&clearTimeout(t._tapTimer),(e.pageX<l.left||e.pageX>l.right||e.pageY<l.top||e.pageY>l.bottom)&&(t._inputOverlay&&(t._inputOverlay.classList.remove("smart-input-overlay-on"),setTimeout(()=>{t._inputOverlay&&(t._inputOverlay.parentNode&&t._inputOverlay.parentNode.removeChild(t._inputOverlay),t._inputOverlay=null)},t.behavior.doubleClickTimingDelay)),t.editing.isEditing&&!t.editing.dialog.enabled&&setTimeout(()=>{e.defaultPrevented||t.editing.editCell&&t.editing.editCell.editor.instance&&(t.editing.editCell.editor.instance.blur(e),e.defaultPrevented)||t.endEdit()},50),t.menu)){let l,o,n,a;if(t.enableShadowDOM||t.isInShadowDOM?(l=e.originalEvent.composedPath()[0],o=function(){for(let e=l.getRootNode().host;e;){if(e===t)return e;e=e.getRootNode().host}}(),n=t.menu.contains(l)||t.menu.firstElementChild.shadowRoot.contains(l),a=t.menu.firstElementChild.shadowRoot):(l=e.originalEvent.target,o=t.contains(l),n=t.menu.contains(l),a=t.menu),!o&&!n){const e=a.querySelectorAll("smart-drop-down-list"),o=a.querySelectorAll("smart-date-time-picker");for(let t=0;t<e.length;t++){const o=e[t],n=o.$.dropDownContainer;if(n.contains(l))return}for(let e=0;e<o.length;e++){const t=o[e],n=t.$.dropDownContainer;if(n.contains(l))return}return void t.closeMenu()}}t._dragSelectionEnd(e),t._endResize()}_nextColumn(e){const t=this;for(let l=0;l<t.viewColumns.length;l++){const o=t.viewColumns[l];if(o.visibleIndex===e.visibleIndex+1)return o}return null}_nextRow(e){const t=this,l=t._recyclingRows,o=l.indexOf(e);return 0<=o?l[o+1]:null}_moveHandler(e){const t=this;if(t.isInitialized&&t._selection){if(t.selection.enabled&&t.selection.allowDragSelection&&!t.editing.isEditing&&(!t._selection.selectionRect||t._selection.selectionRect&&!t._selection.selectionRect.captured)){t._dragSelection(e);const l=e.originalEvent.target.closest?e.originalEvent.target:void 0;Smart.Utilities.Core.isMobile&&l&&l.closest("smart-grid")===t&&e.originalEvent.preventDefault()}t.isScrolling||("none"!==t.behavior.columnResizeMode&&!t.classList.contains("smart-grid-row-resize-mode")&&t._columnMoveResizeHandler(e),"none"!==t.behavior.rowResizeMode&&!t.classList.contains("smart-grid-column-resize-mode")&&t._rowMoveResizeHandler(e))}}_columnMouseLeaveHandler(){const e=this;for(let t=0;t<e._columnElements.length;t++){const l=e._columnElements[t],o=l.column;o&&o.autoShowActionButton&&l._hideActionButton()}}_columnMoveHandler(e){const t=this;if(t.isInitialized&&!(t._columnResizeStartLine||t._rowResizeStartLine))for(let l=0;l<t._columnElements.length;l++){const o=t._columnElements[l],n=o.column;if(n&&n.autoShowActionButton){const l=o.getBoundingClientRect(),a=t.offset(o);if(!(a.left<=e.pageX&&a.left+l.width-6>=e.pageX))o._hideActionButton();else if(a.top<=e.pageY&&a.top+l.height>=e.pageY){if(!t.hasColumnMenu(n))continue;o._showActionButton()}else o._hideActionButton()}}}_columnDownHandler(e){const t=this,l=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY);let o=null,n=null;const a=new Date-t._clickTime<t.behavior.doubleClickTimingDelay;t._doubleClickHandler(e);for(let t=0;t<l.length;t++){const e=l[t];if(e.classList.contains("smart-action-button"))return;if(e.getAttribute("data-field")){o=e.getAttribute("data-field"),n=e;break}}if(o){const l=n.column;if(!l)return;if("_commandColumn"===o)return void t._applyCommand(t.editing.commandColumn.dataSource.commandColumnMenu.command);const i=function(n){const a=l.selectionColumn?t.selection.checkBoxes.action===n&&t.selection.enabled:t.selection.action===n&&t.selection.enabled;if(a){if(t.editing.enabled&&t.editing.editColumn===l)return;if(t._dragSelectionStartDataField=e.shiftKey||e.ctrlKey?null:o,"_checkBoxColumn"===o)return void t._toggleColumnSelection(l);t._setSelection(null,l.dataField,e)}};if(t.editing.isEditing&&t.endEdit(),t.$.fireEvent("columnClick",{column:l}),i("click"),a&&(t.$.fireEvent("columnDoubleClick",{column:l}),i("doubleClick"),t._onColumnDoubleClick(l,e)),t._columnToResizeElement&&!t._columnResizeLine)return void t._columnDownResizeHandler(e);Smart.Utilities.Core.isMobile?(a&&l.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(o),t._columnMoveHandler(e),e.originalEvent.preventDefault()):l.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(o)}t.closeMenu(),t._clickTime=new Date}addTransformMoveStyle(e,t,l,o,n,a){e.style.opacity=a,e.style["transition-duration"]=t,e.style.transform="translate3d("+l+"px,"+o+"px,"+n+"px)"}removeTransformMoveStyle(e){e.style.opacity="",e.style["transition-duration"]="",e.style.transform=""}_rowDownHandler(e){const t=this;if(t._inputOverlay&&t._inputOverlay.classList.remove("smart-input-overlay-on"),t._doubleClickHandler(e),t.closeMenu(),t._rowResizeHandler(e),t._toggledRow&&t.appearance.allowRowToggleAnimation)return;let l=e.clientX,o=e.clientY;e.touches&&(l=e.touches[0].clientX,o=e.touches[0].clientY);const n=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(l,o);let a=null,r=null,d=null,s=null;t._lastPointerDownTime=new Date;for(let t=0;t<n.length;t++){const e=n[t];if(e.hasAttribute("toggle-button")&&(r=e),e.hasAttribute("checkbox")&&(d=e),s||"smart-grid-cell"!==e.nodeName.toLowerCase()||(s=e),!a&&"smart-grid-row"===e.nodeName.toLowerCase()){a=e;break}}if(a&&s){const l=s?s.cell:null;if(r&&l&&!l.column.rowDetailColumn){const t=a.row;t.toggle(e)}else if(t.rowDetail.enabled&&t.rowDetail.visible&&r&&l&&l.column.rowDetailColumn){const e=a.row;e.showDetail?t.hideDetail(e.id):t.showDetail(e.id)}else{const l=a.row,o=s?s.cell:null;o.column._treeColumn&&d&&(l.checked=!l.checked),t.$.fireEvent("rowClick",{row:l,originalEvent:e.originalEvent}),t.$.fireEvent("cellClick",{cell:o,originalEvent:e.originalEvent}),t._tapTimer&&clearTimeout(t._tapTimer),t._tapTimer=setTimeout(function(){t._clickedRow===a&&t.$.fireEvent("rowTap",{row:l,originalEvent:e.originalEvent}),t._clickedCell===s&&t.$.fireEvent("cellTap",{cell:o,originalEvent:e.originalEvent})},t.behavior.doubleClickTimingDelay);const n=function(n){if(t.selection.enabled&&!l.autoGenerated){const i=t.editing.isEditing;if(!(i&&t.editing.editCell&&t.editing.editCell.row.id===l.id&&t.editing.editCell.column.dataField===o.column.dataField)&&!(i&&t.editing.editRow&&t.editing.editRow.id===l.id))if(t.selection.action===n){if(t._dragSelectionStartRow=e.shiftKey||e.ctrlKey?null:!t.selection.allowRowHeaderSelection&&o.column.autoGenerated?null:a.row,t._dragSelectionStartDataField=e.shiftKey||e.ctrlKey?null:o.column.dataField,o.column.rowHeaderColumn&&!t.selection.allowRowHeaderSelection)return void(t._dragSelectionStartRow=null);t._setSelection(l.id,o.column.dataField,e)}else o.column.selectionColumn&&t.selection.checkBoxes.enabled&&t.selection.checkBoxes.action===n&&t._setSelection(l.id,o.column.dataField,e)}},i=o.selected,r=t._clickedCell===s&&new Date-t._clickTime<t.behavior.doubleClickTimingDelay;n("click"),l.autoGenerated||o.column.autoGenerated||o.template?(t._onRowClick(l.index,l,e),t._onCellClick(o,e)):t.selection.enabled?t.selection.allowCellSelection?"extended"===t.selection.mode?!0===i&&i===o.selected&&!t.selection.isDragging&&r&&(t._onRowClick(l.index,l,e),t._onCellClick(o,e)):r&&(t._onRowClick(l.index,l,e),t._onCellClick(o,e)):t.selection.allowRowSelection?"extended"===t.selection.mode?!0===i&&i===o.selected&&!t.selection.isDragging&&r&&(t._onRowClick(l.index,l,e),t._onCellClick(o,e)):r&&(t._onRowClick(l.index,l,e),t._onCellClick(o,e)):(t._onRowClick(l.index,l,e),t._onCellClick(o,e)):(t._onRowClick(l.index,l,e),t._onCellClick(o,e)),new Date-t._clickTime<t.behavior.doubleClickTimingDelay&&(t._clickedRow===a&&(t._onRowDoubleClick(l.index,l,e,e),t.$.fireEvent("rowDoubleClick",{row:l,originalEvent:e.originalEvent}),n("doubleClick")),t._clickedCell===s&&(t._onCellDoubleClick(o,e),t.$.fireEvent("cellDoubleClick",{cell:o,originalEvent:e.originalEvent}))),t._clickedRow=a,t._clickedCell=s,t._clickTime=new Date}}}showDetail(e){const t=this,l=t.rowById[e];l&&(l.showDetail=!0)}hideDetail(e){const t=this,l=t.rowById[e];l&&(l.showDetail=!1)}_focusHandler(){const e=this;e._focused=!0}_blurHandler(){const e=this;e._focused=!1}_notify(e,t,l){const o=this;if(o.notifyFn)for(let n=0;n<o.notifyFn.length;n++)o.notifyFn[n](e,t,l)}notify(e){const t=this;e&&(!t.notifyFn&&(t.notifyFn=[]),t.notifyFn.push(e))}_applyTemplate(e,t){let l=null;if(null===e||""===e)return void(t.innerHTML="");if((e.startsWith("#")||e.startsWith("."))&&(l=document.querySelector(e)),l)t.innerHTML="",t.appendChild(l.content.cloneNode(!0).firstElementChild);else{const l=function(e){const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},o=l(e);o&&(t.innerHTML="",t.appendChild(o))}}propertyChangedHandler(e,t,l){const o=this;if(o.isInitialized){switch(o._notify(e,t,l),e){case"appearance_displayLoadingIndicator":return;case"appearance_placeholder":return void(o.$.placeholder.innerHTML=l);case"appearance_showColumnHeaderLines":case"appearance_showColumnLines":case"appearance_showRowLines":return void o._recycle();case"appearance_allowColumnStickyPosition":{l?o._stickHeader():o._unstickHeader();break}case"appearance_showColumnIcon":{for(let e=0;e<o.columns.length;e++){const t=o.columns[e];t.setProperty("showIcon",o.appearance.showColumnIcon)}o._recycle();break}case"appearance_showRowHeaderNumber":case"appearance_showRowHeader":{o._initializeRowNumberColumn();const e=o._frozenNearColumns[0];e.rowHeaderColumn&&e.element&&!e.element.parentNode&&o.$.columnNearContainer.appendChild(e.element),o.refresh();break}case"header_template":{o._applyTemplate(l,o.$.header);break}case"footer_template":{o._applyTemplate(l,o.$.footer);break}case"columnWidth":{o.columns.canNotify=!1;let e=parseInt(l);if(isNaN(e)&&(e=null),30<=e||null===e)for(let t=0;t<o.columns.length;t++){const l=o.columns[t];l.width=e}o.columns.canNotify=!0,o.refresh();break}case"checkBoxes_visible":return void o._recycle();case"checkBoxes_hasThreeStates":return o.rows.canNotify=!1,o._applyThreeStates(o.rowHierarchy),o.rows.canNotify=!0,void o._recycle();case"columnHeader_visible":{o.__columnHeaderHeight=null,o.refresh();break}case"selection_checkBoxes_enabled":{o._selectionColumn.visible=l;break}case"selection_checkBoxes_autoShow":{o._selectionColumn.element&&(l?o._selectionColumn.element.setAttribute("auto-show",""):o._selectionColumn.element.removeAttribute("auto-show"));break}case"selection_checkBoxes_position":{let e=o.viewColumns.indexOf(o._selectionColumn);o.viewColumns.canNotify=!1,o.viewColumns.splice(e,1);const t=o._frozenNearColumns.indexOf(o._selectionColumn),n=o._frozenFarColumns.indexOf(o._selectionColumn);if(0<=t&&o._frozenNearColumns.splice(t,1),0<=n&&o._frozenFarColumns.splice(n,1),"far"===l)o._selectionColumn.canNotify=!1,o._selectionColumn.freeze="far",o._selectionColumn.canNotify=!0,o._frozenFarColumns.splice(0,0,o._selectionColumn),o.viewColumns.push(o._selectionColumn),o.$.columnFarContainer.appendChild(o._selectionColumn.element);else{let e=0,t=0;for(let l=0;l<o.viewColumns.length&&(o.viewColumns[l].autoGenerated||o.viewColumns[l].dataField!==o.columns[t++].dataField);l++)o.viewColumns[l].autoGenerated&&e++;o._selectionColumn.canNotify=!1,o._selectionColumn.freeze="near",o._selectionColumn.canNotify=!0,o._frozenNearColumns.splice(e,0,o._selectionColumn),o.viewColumns.splice(e,0,o._selectionColumn),o.$.columnNearContainer.appendChild(o._selectionColumn.element)}o.viewColumns.canNotify=!0;break}case"filtering_enabled":return void(l&&o._createFilterPanels());case"filtering_filter":for(let e=0;e<o.columns.length;e++){const t=o.columns[e];t.canNotify=!1,t.setProperty("filter",null),t.canNotify=!0}for(let e=0;e<o.filtering.filter.length;e++){const t=o.filtering.filter[e];if(t){const e=t[0],l=t.splice(1);let n=null;if(l instanceof Smart.FilterGroup)n=l;else{const t=o.columnByDataField[e];t&&(n=o.dataSource._createFilter(t.dataType,l))}n&&o.addFilter(e,n,!1)}}return void o.refreshFilters();case"messages":case"locale":{o._dialogEdit&&(o._dialogEdit.close(),o._dialogEdit=null),o._dialogDelete&&(o._dialogDelete.close(),o._dialogDelete=null),o._dialogAddRow&&(o._dialogAddRow.close(),o._dialogAddRow=null),o._recycle();break}case"paging_spinner_enabled":{o._refresh();break}case"pager_visible":return o._renderPagers(),void o._refreshPaging(!1);case"paging_pageIndex":case"pager_position":case"paging_enabled":return void o._refreshPaging(!0);case"paging_pageSize":return void o._refreshPaging(!1);case"columns":return void o._renderColumns();case"dataSource":return void o.dataBind();case"rowDetail_dialog_width":case"rowDetail_dialog_height":case"rowDetail_dialog_enabled":case"rowDetail_dialog_visible":return;case"rowDetail_height":case"rowDetail_enabled":{o.beginUpdate(),o.rows.canNotify=!1;const e=o.appearance.allowRowDetailToggleAnimation;o.appearance.allowRowDetailToggleAnimation=!1;for(let e=0;e<o._recyclingRows.length;e++){const t=o._recyclingRows[e];t.height=null,t.setProperty("showDetail",!1),t.detailHeight=o.rowDetail.height}if(o.rows.canNotify=!0,!o.rowDetail.enabled)for(let e=0;e<o.viewColumns.length;e++){const t=o.viewColumns[e];if(t.rowDetailColumn){t.visible=!1;break}}return o.appearance.allowRowDetailToggleAnimation=e,void o.endUpdate()}case"rowDetail_visible":{for(let e=0;e<o.viewColumns.length;e++){const t=o.viewColumns[e];if(t.rowDetailColumn){t.visible=l;break}}return}case"displayLoadingIndicator":return void o._setLoadingIndicatorVisibility();case"filterable":return void o._refreshLayout();case"selectionMode":return;case"editing_addNewRow_visible":{o._renderAddNewRow(),o.refresh();break}case"editing_addNewRow_position":return o._renderAddNewRow(),void o.refresh();case"editing_dialog_visible":return;case"editing_commandColumn_visible":return void o.refresh(!0);}o.refresh()}}ready(){super.ready();const e=this,t=e._scrollView.vScrollBar,l=e._scrollView.hScrollBar;t.hasStyleObserver=!1,l.hasStyleObserver=!1,t.hasResizeObserver=!1,l.hasResizeObserver=!1,t.wait=!1,l.wait=!1,t.onChange=e._verticalScrollbarHandler.bind(e),l.onChange=e._horizontalScrollbarHandler.bind(e),e.setFocusable(!0),e.$.loadingIndicatorPlaceholder.innerHTML=e.appearance.loadingIndicatorPlaceholder,e.$.placeholder.innerHTML=e.appearance.placeholder,e._setLoadingIndicatorVisibility(),e._cellsMerge=[],e.checkLicense()}checkLicense(e){const t=this;(t.grouping.enabled||t.selection.enabled&&t.selection.allowCellSelection||t.rowDetail.enabled||t.charting.enabled||t.editing.enabled&&t.editing.batch||t.editing.enabled&&"row"===t.editing.mode||t.editing.enabled&&t.editing.addNewRow.visible||t.editing.enabled&&t.editing.commandColumn.visible||"virtual"===t.scrolling||t.sorting.enabled&&"many"===t.sorting.mode||!0===e)&&super.checkLicense()}_createFilterPanels(){const e=this;if(!e._filterPanels)e._filterPanels=[];else if(0<e._filterPanels.length)return;e.filtering.enabled&&0===e._filterPanels.length&&requestAnimationFrame(()=>{const t=document.createElement("smart-filter-panel"),l=document.createElement("smart-filter-panel"),o=document.createElement("smart-filter-panel"),n=document.createElement("smart-filter-panel");for(let a in l.filterType="boolean",o.filterType="numeric",n.filterType="date",e._filterPanels.bool=l,e._filterPanels.date=n,e._filterPanels.numeric=o,e._filterPanels.string=t,e._filterPanels){const t=e._filterPanels[a];t.classList.add("smart-hidden"),e.$.content.appendChild(t),t.parentNode.removeChild(t)}})}_applyScrolling(){const e=this,t=e._scrollView.vScrollBar;requestAnimationFrame(()=>{switch(t.largeStep=e.$.scrollView.offsetHeight,e.scrolling){case"physical":case"infinite":case"virtual":t.step=10,t.mechanicalAction="switchWhileDragging";break;case"deferred":t.step=10,t.mechanicalAction="switchWhenReleased";break;case"logical":t.step=e.layout.rowMinHeight,t.mechanicalAction="switchWhileDragging";}})}get _autoRowHeight(){var e=Math.max;const t=this;if(t.__autoRowHeight)return t.__autoRowHeight;const l=new Smart.Grid.Row({index:0,grid:t}),o=l.createElement();let n=t.layout.rowMinHeight;t.$.scrollView.appendChild(o),t.removeAttribute("grouped"),t.removeAttribute("tree"),t.grouping.enabled&&t.dataSource.groupBy&&0<t.dataSource.groupBy.length?t.setAttribute("grouped",""):t.dataSource.boundHierarchy&&t.setAttribute("tree","");const a={};for(let e=0;e<t.dataSource.dataFields.length;e++){const l=t.dataSource.dataFields[e];a[l.name]="ABCDEFHIJLMNOPQRSTUVWXYZ1234567910|"}l.data=a,l._isMeasureRow=!0,l.render(),o.style.height="",o.style.lineHeight="",n=e(o.offsetHeight,n);for(let e=0;e<o.children.length;e++)o.children[e].style.height="";for(let a=0;a<o.children[1].children.length;a++){o.children[1].children[a].style.height="auto";const i=l.getCell(t.columns[0].dataField);i.render(),n=e(n,8+o.children[1].children[a].offsetHeight);break}return t.$.scrollView.removeChild(o),t.__autoRowHeight=n,n}get _scrollHeight(){const e=this;let t=e._recyclingRows,l=0,o=e._autoRowHeight,n=0,a=0;if(e.__scrollHeight)return e.__scrollHeight;if(0===t.length||0===e.columns.length)return 0;e.rows.canNotify=!1;const r=t.length;for(let d,s=0;s<r;s++){if(d=t[s],!d.visible||!1===d.filtered){d.height=0,d.cellHeight=0,d.top=l;continue}let i=!d.height||!d.cellHeight||d.showDetail||"auto"===d.height||"auto"===d._height||"auto"===e.layout.rowHeight;if(i&&!d.expandHeight){if(d.detailHeight||(d.detailHeight=200),!e.layout.rowHeight){if("auto"===d.height||"auto"===d._height){d.element=e._rowElements[1];const t=d.data&&e.isRendered?d._autoSize(d):o;d.height=t,d._height="auto"}else d.height=o;void 0===d.label||d.summaryRow||(d.height=e.grouping.groupRowHeight),d.computedHeight&&(d.height=d.computedHeight),d.cellHeight=d.height,e.rowDetail.enabled&&d.showDetail&&!e.rowDetail.dialog.enabled&&(d.height+=d.detailHeight)}else if(e.layout.rowHeight)if("number"==typeof e.layout.rowHeight)e.layout.rowHeight<e.layout.rowMinHeight&&(e.layout.rowHeight=e.layout.rowMinHeight),d.height=e.layout.rowHeight,d.computedHeight&&(d.height=d.computedHeight),void 0!==d.label&&(d.height=e.grouping.groupRowHeight),d.cellHeight=d.height,e.rowDetail.enabled&&d.showDetail&&!e.rowDetail.dialog.enabled&&(d.height+=d.detailHeight);else if("auto"===e.layout.rowHeight){e.layout.rowHeight<e.layout.rowMinHeight&&(e.layout.rowHeight=e.layout.rowMinHeight),d.element=e._rowElements[1];const t=d.data&&e.isRendered?d._autoSize(d):o;d.height=t,d.computedHeight&&(d.height=d.computedHeight),void 0!==d.label&&(d.height=e.grouping.groupRowHeight),d.cellHeight=d.height,e.rowDetail.enabled&&d.showDetail&&!e.rowDetail.dialog.enabled&&(d.height+=d.detailHeight)}else e.layout.rowHeight(s,d),d.height||(d.height=o),d.cellHeight=d.height,e.rowDetail.enabled&&d.showDetail&&!e.rowDetail.dialog.enabled&&(d.height+=d.detailHeight);e._rowGap&&s<e.rows.length-1&&(d.height+=e._rowGap)}if(!0===d.freeze||"near"===d.freeze?n+=d.height:"far"===d.freeze&&(a+=d.height),d.freeze){d.top=l;continue}d.top!==l&&(d.top=l),l+=d.expandHeight?d.cellHeight:d.height}return e.__scrollHeight=l,e.__frozenNearHeight=n,e.__frozenFarHeight=a,e._scrollView.scrollHeight=l-e.$.scrollView.offsetHeight+n+a,l=e.__scrollHeight+n+a-1,e.grouping.enabled&&0<e.dataSource.groupBy.length&&0<e.grouping.groupIndent&&(l+=parseInt(e.grouping.groupIndent/2)),e.__scrollHeight=l,e.rows.canNotify=!0,l}_measureColumnHeight(){const e=this;if(e.__measuredColumnHeight)return e.__measuredColumnHeight;const t=document.createElement("smart-grid-column");t.style.height="auto",t.style.position="static";const l=document.createElement("div");l.classList.add("smart-label"),l.innerHTML="aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRwWxXyYzZ1234567890",t.appendChild(l),e.$.columnHeader.appendChild(t);let o=e.$.columnHeader.offsetHeight;return e.$.columnHeader.removeChild(t),e._columnHeights&&1<e._columnHeights.length&&(o=e._columnHeights[0]),o<e.columnMinHeight&&(o=e.columnMinHeight),e.__measuredColumnHeight=o,o}_initializeColumnGroupsHierarchy(){const e=this;let t=0;if(e.$.columnContainer.innerHTML="",0<e.columnGroups.length){for(let t=0;t<e.columnGroups.length;t++)e.columnGroups[t].parent=null,e.columnGroups[t].groups=null;for(let t=0;t<e.viewColumns.length;t++)e.viewColumns[t].parent=null,e.viewColumns[t].groups=null;const l=function(t){for(let l,o=0;o<e.columnGroups.length;o++)if(l=e.columnGroups[o],l.name===t)return l;return null},o=function(e){let t=[];if(e.columnGroup&&t.push(e),e.groups)for(let l=0;l<e.groups.length;l++)if(e.groups[l].columnGroup)t.push(e.groups[l]);else if(e.groups[l].groups){let n=o(e.groups[l]);for(let e=0;e<n.length;e++)t.push(n[e])}return t};for(let t,o=0;o<e.columnGroups.length;o++)if(t=e.columnGroups[o],t.groups||(t.groups=null),t.parentGroup){let e=l(t.parentGroup);e&&(t.parent=e,!e.groups&&(e.groups=[]),-1===e.groups.indexOf(t)&&e.groups.push(t))}for(let t,o=0;o<e.viewColumns.length;o++)if(t=e.viewColumns[o],t.columnGroup){let e=l(t.columnGroup);e&&(!e.groups&&(e.groups=[]),t.parent=e,-1===e.groups.indexOf(t)&&e.groups.push(t))}for(let l=0;l<e.viewColumns.length;l++){const o=e.viewColumns[l];let n=o;for(o.level=0;n.parent;)n=n.parent,o.level++;n=o;let a=o.level;for(t=Math.max(t,o.level);n.parent;)n=n.parent,n&&(n.level=--a)}for(let t=0;t<e.columnGroups.length;t++){const l=e.columnGroups[t],n=o(l);l.columns=n;let a=[],i=0,r="near";0===n.length&&(i=-1,l.visible=!1);for(let t=0;t<n.length;t++)a.push(e.viewColumns.indexOf(n[t])),n[t].freeze&&("far"===n[t].freeze&&(r="far"),i++);i===n.length?l.freeze=r:0<i&&i<n.length&&e.error(e.localize("frozenColumns",{elementType:"Grid"})),a.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(let t=1;t<a.length;t++)a[t]!==a[t-1]+1&&e.error(e.localize("columnGroups",{elementType:"Grid"}))}}e._columnGroupsLevel=1+t}_refreshColumnHeights(){const e=this;e.$.columnHeader.style.height="",e._viewColumnsHeight=e._measureColumnHeight(),e._columnHeights=[];let t=0;for(let l,o=0;o<e._columnGroupsLevel;o++)l=e._viewColumnsHeight,e.columnHeight&&("number"==typeof e.columnHeight?l=e.columnHeight?e.columnHeight:e._viewColumnsHeight:l=e.columnHeight?e.columnHeight(o):e._viewColumnsHeight),l<e.columnMinHeight&&(l=e.columnMinHeight),l?(e._columnHeights.push(l),t+=l):(t+=e._viewColumnsHeight,e._columnHeights.push(e._viewColumnsHeight));e._columnHeaderHeight=e._columnGroupsLevel*e._viewColumnsHeight,e._columnHeaderHeight=t,e.$.columnHeader.style.height=e._columnHeaderHeight+"px";const l=function(t){let l=0;for(let o=0;o<t.level;o++)l+=e._columnHeights[o];return l},o=function(t){let o=l(t),n=e._columnHeaderHeight-o;for(let l=t.level+1;l<e._columnHeights.length;l++){const o=l;for(let l=0;l<e.viewColumns.length;l++){const a=e.viewColumns[l];let i=!1;if(a.level===o){for(let l=a;l.parent;){if(l.parent===t){n=e._columnHeights[o],i=!0;break}l=l.parent}if(i)break}}}return n};for(let t=0;t<e.viewColumns.length;t++){const n=e.viewColumns[t],a=o(n);n.computedHeight=a,n.top=l(n)}for(let t=0;t<e._columnGroupsLevel-1;t++)for(let n=0;n<e.columnGroups.length;n++){const a=e.columnGroups[n],i=a.level;if(i!==t)continue;if(a.groups){const e=o(a),t=l(a);a.top=t,a.computedHeight=e}const r=a.element;r&&(r.style.width=a.computedWidth+"px",r.style.left=a.left+"px",r.style.top=a.top+"px",r.style.height=a.computedHeight+"px",r.style.lineHeight=a.computedHeight+"px")}}_refreshColumnWidths(){const e=this;e.__clientSize=null;const t=0<e.$.verticalScrollBar.offsetWidth?e.$.verticalScrollBar.offsetWidth:0,l=e.dataSource.groupBy||[];let o=e.grouping.enabled?e.grouping.groupIndent*(1+l.length):0,n=0;e.selection.checkBoxes.enabled&&(n=e._selectionColumn.computedWidth?e._selectionColumn.computedWidth:e._selectionColumn.minWidth);const a=e._clientSize.width-t-o;let r=0,d=[],s=0,u=0,c=0;if(e.editing.enabled&&!e.editing.commandColumn.inline){const t=function(){const t=document.createElement("div"),l=document.createElement("div"),o=e.editing.commandColumn.dataSource;let n=0,a="",i=0;for(let t in l.classList.add("smart-label"),o){const l=o[t];let n=!1;if("commandColumnMenu"==t)continue;let r=!1;if(n||(!0===l.visible?(i++,r=!0):"auto"===l.visible&&((e.editing.editRow||e.editing.editCell)&&!e.editing.dialog.enabled||"commandColumnEdit"!=t?(e.editing.editRow||e.editing.editCell)&&!e.editing.dialog.enabled&&("commandColumnUpdate"==t?(i++,r=!0):"commandColumnCancel"==t&&(i++,r=!0)):(i++,r=!0)),n=!0),r&&"icon"!==e.editing.commandColumn.displayMode){const o="{{messages}}"===l.label?e.localize(t):l.label;a+="<span>"+o+"</span>"}}return l.innerHTML="<span>"+a+"</span>",t.appendChild(l),t.style.width="auto",t.style.position="static",e.$.columnHeader.appendChild(t),n=10+l.firstChild.offsetWidth,e.$.columnHeader.removeChild(t),"icon"===e.editing.commandColumn.displayMode?n=20+20*i:"labelAndIcon"===e.editing.commandColumn.displayMode?n+=25*i:n+=10*i,n};if(e._commandColumn.visible=e.editing.commandColumn.visible,e.editing.commandColumn.visible){const l=e.editing.commandColumn.width?e.editing.commandColumn.width:t();e.columns.canNotify=!1,e._commandColumn.width=l,e.columns.canNotify=!0}}for(let t=0;t<e.viewColumns.length;t++){const l=e.viewColumns[t],o=l;let i;"number"==typeof o.width?i=o.width:o.width&&0<=o.width.toString().indexOf("%")?(i=parseFloat(o.width)/100,i*=a-n):o.width&&(0<=o.width.toString().indexOf("em")||0<=o.width.toString().indexOf("pt")||0<=o.width.toString().indexOf("fr"))?(i=parseFloat(o.width),i*=16):"auto"===o.width?i=o._autoSize():o.visible&&(d.push(o),i=0),o.overflowWidth&&(i-=o.overflowWidth),o.visible&&(r+=i),i<o.minWidth&&(i=o.minWidth),o.computedWidth=i}if(d){let e=a-r,t=0;0>e&&(e=60*d.length);for(let l=0;l<d.length;l++){const o=d[l];let n;n=e/d.length,l==d.length-1&&(n=e-t),o.overflowWidth&&(n-=o.overflowWidth),n<o.minWidth&&(n=o.minWidth),o.computedWidth=n,t+=n}}for(let t=0;t<e.viewColumns.length;t++){const l=e.viewColumns[t];let n=l;n.visible&&(0<o&&!n.autoGenerated&&(n.computedWidth+=o,o=0),n.freeze?!0===n.freeze||"near"===n.freeze?(n.left=s,c+=n.computedWidth,s+=n.computedWidth):"far"===n.freeze&&(n.left=u,u+=n.computedWidth):(n.left=c,c+=n.computedWidth))}for(let t=0;t<e._columnGroupsLevel-1;t++)for(let l=0;l<e.columnGroups.length;l++){const o=e.columnGroups[l],n=o.level;if(n!==t)continue;let a=99999;if(o.groups){const e=function(t){let l=0;for(let o,n=0;n<t.groups.length;n++)o=t.groups[n],o.groups?l+=e(o):!o.hidden&&(a=Math.min(o.left,a),l+=o.computedWidth);return l};o.computedWidth=e(o),o.left=a}}}_createColumnHeaderCellElements(){const e=this,t=e.$.columnContainer,l=document.createDocumentFragment();let o=0;e._columnElements=[],e.$.columnContainer.innerHTML="",e.$.columnNearContainer.innerHTML="",e.$.columnFarContainer.innerHTML="";for(let t=0;t<e._frozenNearColumns.length;t++){const l=e._frozenNearColumns[t];l.createElement()}for(let t=0;t<e._frozenFarColumns.length;t++){const l=e._frozenFarColumns[t];l.createElement()}for(let t=0;t<e.viewColumns.length;t++){const n=e.viewColumns[t];if(n.freeze)continue;const a=n.createElement();if(n.computedWidth===void 0){e._columnElements.push(a),l.appendChild(a);continue}o+=n.computedWidth,e._columnElements.push(a),o<2*e._clientSize.width&&l.appendChild(a)}for(let t=0;t<e.columnGroups.length;t++){const o=e.columnGroups[t],n=new Smart.Grid.Column({visible:!(o.visible!==void 0)||o.visible,allowSelect:!1,grid:e,dataField:o.name,label:o.label,align:o.align,verticalAlign:o.verticalAlign});o.column=n;const a=n.createElement();a.style.width=o.computedWidth+"px",a.style.left=o.left+"px",a.style.top=o.top+"px",a.style.height=o.computedHeight+"px",a.style.lineHeight=o.computedHeight+"px",l.appendChild(a),o.element=a,o.grid=this}e.htmlColumnLastChild||(e.htmlColumnLastChild=document.createElement("smart-grid-column"),e.htmlColumnLastChild.classList.add("top-far-corner"),e.htmlColumnLastChild.onpointerdown=e=>{e.stopPropagation(),e.preventDefault()},e.$.columnHeader.appendChild(e.htmlColumnLastChild)),t.appendChild(l),t.style.width=e._computedColumnsWidth+"px",e._refreshFrozenColumns()}_refreshFrozenColumns(){const e=this;e.$.columnNearContainer.style.width=e._frozenColumnsNearWidth+"px",e.$.columnFarContainer.style.width=e._frozenColumnsFarWidth+"px";for(let t=0;t<e.columnGroups.length;t++){const l=e.columnGroups[t];l.freeze&&l.element&&(!0===l.freeze||"near"===l.freeze?e.$.columnNearContainer.appendChild(l.element):"far"===l.freeze&&e.$.columnFarContainer.appendChild(l.element))}for(let t=0;t<e.viewColumns.length;t++){const l=e.viewColumns[t];l.freeze&&l.element&&(!0===l.freeze||"near"===l.freeze?e.$.columnNearContainer.appendChild(l.element):"far"===l.freeze&&e.$.columnFarContainer.appendChild(l.element))}}get _clientSize(){const e=this;if(e.__clientSize)return e.__clientSize;const t=getComputedStyle(e.$.container),l=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),o=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),a=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return e.__clientSize={width:e.$.container.offsetWidth-l-n,height:e.$.container.offsetHeight-o-a},e.__clientSize}_initializeRowElements(){const e=this;if(!e.rows)return;e.rows.canNotify=!1;let t=0,l=e._clientSize.height;e.$.rowNearContainer.innerHTML="",e.$.rowFarContainer.innerHTML="",e.$.rowContainer.innerHTML="",e._rowElements=[],e._overflowOffset=Math.max(l,300);const o=e.offsetHeight;e.$.container.classList.add("smart-hidden");const n=e.offsetHeight;e.$.container.classList.remove("smart-hidden"),("hidden"===e.verticalScrollBarVisibility||o!==n)&&(l=e._scrollHeight);const a=function(){const o=document.createDocumentFragment();if(!(e.rows&&0===e.rows.length)){for(let n=0;n<e.rows.length;n++){const a=e.rows[n];if(a.freeze)continue;const i=a.createElement();if(o.appendChild(i),t+=e.layout.rowMinHeight,t>e._overflowOffset+l)break}e.$.rowContainer.appendChild(o);const n=e.$.rowContainer.children;for(let t=0;t<n.length;t++){const l=n[t];e.rows[t]&&(e.rows[t].element=l),e._rowElements[t]=l}}};for(let t=0;t<e._frozenNearRows.length;t++){const l=e._frozenNearRows[t],o=l.createElement();l.element=o,e.$.rowNearContainer.appendChild(o)}for(let t=0;t<e._frozenFarRows.length;t++){const l=e._frozenFarRows[t],o=l.createElement();l.element=o,e.$.rowFarContainer.appendChild(o)}a();for(let e=0;t<1.5*l&&50>++e;)a();e.rows.canNotify=!0}_initializeRows(){var e=Math.ceil;const t=this;let l=0;t._frozenNearDefaultRows=[],t._frozenFarDefaultRows=[],t.rows=[],t.rowById=[],t._frozenFarRows=[],t._frozenNearRows=[];const o=function(){let e=[],l=!1;for(let o=0;o<t.columns.length;o++){const n=t.columns[o];let a={};n.summary&&0<n.summary.length&&(l=!0),a[n.dataField]=n.summary,e.push(a)}return l?void(t._summaryItems=t.dataSource.summarize(e)):void(t._summaryItems=[])},n=function(e,o){const n=e.grid?e:new Smart.Grid.Row({data:e,index:o,grid:t});if(t.onRowInit)for(let e in t.onRowInit(o,n),n)-1!==n.properties.indexOf(e)||e.startsWith("_")||t.error(t.localize("invalidRowProperty",{elementType:"Grid",propertyName:e}));if(n.selected&&(t._selection.rows[n.id]=!0),!n.freeze)t.rows[o]?t.rows.splice(o,0,n):t.rows.push(n);else if(!0===n.freeze||"near"===n.freeze){t.rows.splice(l++,0,n);const e=t.rows[l-1];-1===t._frozenNearRows.indexOf(e)&&t._frozenNearRows.push(e)}else if("far"===n.freeze){t.rows.push(n);const e=t.rows[t.rows.length-1];-1===t._frozenFarRows.indexOf(e)&&t._frozenFarRows.push(e)}"virtual"===t.scrolling||t.paging.enabled&&t.dataSource&&t.dataSource.virtualDataSource||t.onRowInserted&&t.onRowInserted(o,n)},a=function(){const e=t.rows[t.rows.length-1];t.rows.pop(),t.onRowRemoved&&t.onRowRemoved(t.rows.length,e)},i=function(e){const l=t.rows[e];t.rows.splice(e,1),t.onRowRemoved&&t.onRowRemoved(e,l)};t._add=n,t._removeLastRow=a,t._removeAt=i,t._rowHeight=t._autoRowHeight;const r=t.dataSource.length;for(let e=0;e<t.dataSource.length;e++){const l=t.dataSource[e];n(l,e)}for(let e=0;e<t._frozenFarRows.length;e++){const l=t._frozenFarRows[e];t.rows.splice(t.rows.indexOf(l),1),t.rows.push(l)}if(o(),t.dataSource.notify(function(l){if(!t.dataSource._updating){const d=l.data;switch(t.rows.canNotify=!1,l.action){case"add":if(d.length)for(let e=0;e<d.length;e++)n(d[e],t.dataSource.length-d.length+e);else n(d,t.dataSource.length-1);break;case"update":if(d.length)for(let e=0;e<d.length;e++){const o=l.index[e];if(!t.rows[o]){n(d[e],t.dataSource.length-1);continue}t.rows[o].data=d[e],t.onRowUpdated&&t.onRowUpdated(o,t.rows[o])}else{const e=l.index;t.rows[e]?t.rows[e].data=d:n(d,t.dataSource.length-1),t.onRowUpdated&&t.onRowUpdated(e,t.rows[e])}break;case"insert":n(d,l.index);for(let e=0;e<t.rows.length;e++){const l=t.rows[e];l.index=e}break;case"remove":i(l.index);break;case"removeLast":a();break;case"bindingComplete":if(t.dataSource&&t.dataSource.url||t.dataSource&&!t.dataSource.virtualDataSource){if(t.appearance.displayLoadingIndicator=!1,t._setLoadingIndicatorVisibility(),t._toggledRow=null,t.dataSource.length!==r){if(t.paging.enabled){const l=t.$.headerPager.querySelector("smart-pager"),o=t.$.footerPager.querySelector("smart-pager");l&&(l.pagesCount=e(t.dataSource.length/t.paging.pageSize)),o&&(o.pagesCount=e(t.dataSource.length/t.paging.pageSize))}t._initializeRows(),t._initializeRowElements(),t.refresh()}t._recycle()}}o(),"update"!==l.action&&t._refreshLayout(),t._recycle(),t.rows.canNotify=!0}}),t._observeRows(),t.summaryRow.visible)for(let e=0;e<t._summaryRowCount;e++){const l=new Smart.Grid.Row({freeze:"near",visible:"near"===t.summaryRow.position,summaryRowIndex:e,summaryRow:!0}),o=new Smart.Grid.Row({freeze:"far",visible:"far"===t.summaryRow.position,summaryRowIndex:e,summaryRow:!0});t._frozenNearRows.splice(0,0,l),t._frozenFarRows.push(o)}if(t.filtering.enabled&&t.filtering.filterRow.visible){const e=new Smart.Grid.Row({freeze:"near",filterRow:!0});t._frozenNearRows.splice(0,0,e)}t._renderAddNewRow()}_observeRows(){const e=this;e._frozenNearRows=[],e._frozenFarRows=[],e.rows=new Smart.ObservableArray(e.rows,null,{allowToggle:!0,allowResize:!0,allowCheck:!0,expanded:!0,selected:!0,checked:!0,visible:!0,enabled:!0,minHeight:!0,height:!0,freeze:!0,showDetail:!0,data:!0,visibleIndex:!0,index:!0});for(let t=0;t<e.rows.length;t++){const l=e.rows[t];!0===l.freeze||"near"===l.freeze?e._frozenNearRows.push(l):"far"===l.freeze&&e._frozenFarRows.push(l),e.rowById[e.rows[t].id]=l}const t=function(e,t,l,o){e.propertyChanged(t,l,o)};e.rows.notify(function(l){if(e.rows.canNotify){const o=l.action;if("length"!==o){if(l.path)return e.rows.canNotify=!1,t(e.rows[l.index],l.propertyName,l.oldValue,l.newValue),void(e.rows.canNotify=!0);if(e.rows.canNotify=!1,!!e.dataSource){switch(e.dataSource.canNotify=!1,o){case"add":{const t=function(t){let o=e.rows[t];if(!1==o instanceof Smart.Grid.Row){o=new Smart.Grid.Row(o);const n=e.rows.canNotify;e.rows.canNotify=!1,l.object[t]=o,o=l.object[t],e.rows.canNotify=n}t<e.dataSource.length?e.dataSource.insert(t,e.rows[t].data):e.dataSource.add(e.rows[t].data),o.grid=e,o.data=e.dataSource[t],e.rowById[o.id]=o,o.selected&&(e._selection.rows[o.id]=!0),o.freeze&&(!0===o.freeze||"near"===o.freeze?e._frozenNearRows.push(o):"far"===o.freeze&&e._frozenFarRows.push(o))};for(let e=0;e<l.addedCount;e++)t(l.index+e);break}case"update":{e.dataSource.update(l.index,e.rows[l.index]);break}case"remove":{const t=l.removed;delete e.rowById[t.id],e.dataSource.remove(l.index);break}}if(e.dataSource.canNotify=!0,e.rows.canNotify=!0,!!o){const t=e.isInitialized&&e._rowElements&&e._rowElements.length<e.rows.length;t&&e._initializeRowElements(),e.refresh(),e._refreshPagesCount()}}}}})}render(){const e=this,t=()=>0===e.offsetWidth||0===e.offsetHeight;return t()?void requestAnimationFrame(()=>{e.isInitialized||t()||e._render()}):void(e._render(),super.render())}_renderColumns(e){const t=this;t._initializeColumns(),t._initializeColumnGroupsHierarchy(),t._refreshColumnsResponsiveVisibility(),t._createColumnHeaderCellElements(),t._renderColumnGroupHeaders(),!1!==e&&t._refresh()}_renderRows(e){const t=this;t._initializeRows(),t._initializeRowElements(),!1!==e&&t._refresh()}_render(){const e=this;if(e.isInitialized||(e.onBeforeInit&&e.onBeforeInit(),e.$.fireEvent("beforeInit",{grid:e})),null===e.dataSource?e.dataSource=new Smart.DataAdapter:Array.isArray(e.dataSource)&&(e.dataSource=new Smart.DataAdapter({dataSource:e.dataSource})),e._selection={rows:[],columns:[],cells:[]},e.dataSource&&e.dataSource.url&&(e.appearance.displayLoadingIndicator=!0,e._setLoadingIndicatorVisibility(),e.dataSource.data={sorting:e.getSortedColumns(),filtering:e.getFilteredColumns(),grouping:[]}),e._renderColumns(!1),e._renderRows(!1),e._renderPagers(),e._renderCommandBar(),e.appearance.allowColumnStickyPosition&&e._stickHeader(),!e.isInitialized){for(let t=0;t<e.viewColumns.length;t++){const l=e.viewColumns[t];if(!l.allowSort||!l.sortOrder)continue;const o=e.appearance.allowSortAnimation;e.appearance.allowSortAnimation=!1,e.sortBy(l.dataField,l.sortOrder),e.appearance.allowSortAnimation=o}if(0<e.filtering.filter.length){for(let t=0;t<e.filtering.filter.length;t++){const l=e.filtering.filter[t];if(l){const t=l[0],o=l.splice(1);let n=null;if(o instanceof Smart.FilterGroup)n=o;else{const l=e.columnByDataField[t];l&&(n=e.dataSource._createFilter(l.dataType,o))}n&&e.addFilter(t,n,!1)}}e.refreshFilters()}}else e.refreshFilters();e.viewColumns.canNotify=!0;const t=!e.isInitialized;t&&(e.onInit&&e.onInit(),e.$.fireEvent("init",{grid:e})),e.isInitialized=!0,"virtual"===e.scrolling||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource&&e._virtualDataRequest("dataBind"),""!==e.header.template&&e._applyTemplate(e.header.template,e.$.header),""!==e.footer.template&&e._applyTemplate(e.footer.template,e.$.footer),e._createFilterPanels(),e._refresh(),e._applyScrolling(),e.onRender&&e.onRender(),e.isRendered=!0,"auto"===e.layout.rowHeight&&(e._refreshLayout(),e._recycle()),t&&(e.onAfterInit&&e.onAfterInit(),e.$.fireEvent("afterInit",{grid:e}))}get _viewRows(){const e=this;if(e.__viewRows)return e.__viewRows;e._nearRowsAdded||(e._nearRowsAdded=[],e._farRowsAdded=[]);const t=e.rowHierarchy?e.rowHierarchy:e.rows.toArray(),l=[].concat(e._frozenNearDefaultRows,e._nearRowsAdded,t,e._farRowsAdded,e._frozenFarDefaultRows);return e.__viewRows=l,l}_stickHeader(){const e=this;e._stickyHeaderHandler=function(){e._handleStickyHeader()},e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("smart-columns-sticky");let t=e.parentNode;for(e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);t!==document&&t;)t.addEventListener("scroll",e._stickyHeaderHandler),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);try{null!==window.top&&window.top!==window.self&&window.top.document.addEventListener("scroll",e._stickyHeaderHandler)}catch(e){}e._handleStickyHeader()}_unstickHeader(){const e=this;e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("smart-columns-sticky");for(let t=e.parentNode;t!==document.body;)t.removeEventListener("scroll",e._stickyHeaderHandler),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);try{(""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self&&window.top.document.removeEventListener("scroll",e._stickyHeaderHandler)}catch(e){}}_handleStickyHeader(){const e=this;if(e.appearance.allowColumnStickyPosition)if(e.$.columnHeader.classList.add("smart-columns-sticky"),0===document.scrollTop&&0===e.parentElement.scrollTop)e.$.columnHeader.style.top="";else{let t=e.parentNode,l=0;for(;t!==document.body;)l+=parseInt(t.scrollTop),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);const o=parseInt(e.clientTop+l);e.$.columnHeader.style.top=o+"px";let n=0;window.top!==window.self&&parseInt(window.top.scrollY)>parseInt(e._offsetTop(window.frameElement))&&(n=parseInt(window.top.scrollY)-parseInt(e._offsetTop(window.frameElement))),window.scrollY+n>e.offsetTop&&(e.$.columnHeader.style.top=parseInt(window.scrollY)-parseInt(e.offsetTop)+o+n+"px")}}_scrollHandler(){const e=this;e._handleStickyHeader()}_initializeRowNumberColumn(){const e=this;if(e._frozenNearColumns&&0<e._frozenNearColumns.length&&e._frozenNearColumns[0].rowHeaderColumn)return void(e._frozenNearColumns[0].visible=e.appearance.showRowHeaderNumber||e.appearance.showRowHeader);const t=new Smart.Grid.Column({dataField:"_rowHeaderColumn",label:"",allowSelect:!1,freeze:!0,visible:!0,grid:e,autoGenerated:!0,rowHeaderColumn:!0,cellsAlign:"center"}),l=e.rows?e.rows.length:e.dataSource?e.dataSource.length:0;let o=e.appearance.showRowHeaderNumber?t._measureSize(l):30;e.appearance.autoGenerateColumnWidth&&(o=e.appearance.autoGenerateColumnWidth),t.width=o,t.createElement();const n=new Smart.Observable(t,t.observables);e.viewColumns.splice(0,0,n),e._frozenNearColumns.splice(0,0,n)}_initializeColumns(){const e=this;if("number"==typeof e.columns){const t=[];let l="",o=0;for(let n,a=0;a<e.columns;a++){n=a+1;const i=String.fromCharCode(65+o);o++;const r=l+i;"number"!==e.appearance.autoGenerateColumnLabelMode&&(n=l+i),t.push({align:"center",label:n,dataField:r,width:100}),26<=o&&(o=0,l+="A")}e._boundColumns=t}else e._boundColumns=Array.isArray(e.columns)?e.columns.splice(0):e.columns.toArray().splice(0);e._initColumns=e.columns,e.columnByDataField=[],e.viewColumns=[],e.columns=new Smart.ObservableArray,e._frozenFarColumns=[],e._frozenNearColumns=[],e._summaryRowCount=0;let t=0;const l=function(t){if(e.dataSource.dataFields){const l=e.dataSource.dataFields.find(e=>{if(e.name===t.dataField)return e}),o=l?l.dataType||"string":"string";t.dataType=o}};if(0===e._boundColumns.length&&e.dataSource&&e.dataSource[0]){const t=e.dataSource[0];for(let o in t){if(o.startsWith("_")||"$"==o)continue;const t=e._boundColumns.length,n={index:t,visibleIndex:t,label:o,dataField:o};l(n),e._boundColumns.push(n)}}for(let o,n=0;n<e._boundColumns.length;n++){if(o=e._boundColumns[n],"string"!=typeof o)l(o);else if(e.dataSource.dataFields){const t=e.dataSource.dataFields.find(e=>{if(e.name===o)return e});o={label:o,dataField:o,dataType:t?t.dataType||"string":"string"}}o.visibleIndex=n,o.index=n,o.grid=e;const a=new Smart.Grid.Column(o);for(let t in e.onColumnInit&&e.onColumnInit(n,a),a)-1!==a.properties.indexOf(t)||t.startsWith("_")||e.error(e.localize("invalidColumnProperty",{elementType:"Grid",propertyName:t,type:a.dataField||"Column"}));a.grid=e,e.columns.push(a);const i=e.columns[e.columns.length-1];e._summaryRowCount=Math.max(e._summaryRowCount,a.summary.length),a.freeze?!0===a.freeze||"near"===a.freeze?(e.viewColumns.splice(t++,0,i),e._frozenNearColumns.push(i)):"far"===a.freeze&&e._frozenFarColumns.push(i):e.viewColumns.push(i),e.columnByDataField[a.dataField]?(i.parent=e.columnByDataField[a.dataField],!e.columnByDataField[a.dataField].children&&(e.columnByDataField[a.dataField].children=[]),e.columnByDataField[a.dataField].children.push(i)):e.columnByDataField[a.dataField]=i,e.onColumnInserted&&e.onColumnInserted(n,a)}e.viewColumns=e.viewColumns.concat(e._frozenFarColumns);let o=0;if((e.appearance.showRowHeaderNumber||e.appearance.showRowHeader)&&(e._initializeRowNumberColumn(),o++),e.rowDetail.enabled){const t=new Smart.Grid.Column({dataField:"_rowDetailColumn",allowSelect:!1,visible:e.rowDetail.visible,label:"",grid:e,freeze:!0,rowDetailColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),l=new Smart.Observable(t,t.observables);"near"===e.rowDetail.position?(t.freeze="near",l.freeze="near",e.viewColumns.splice(o,0,l),e._frozenNearColumns.splice(o,0,l)):(e.viewColumns.push(l),e._frozenFarColumns.splice(0,0,l)),o++}const n=new Smart.Grid.Column({dataField:"_adaptiveColumn",allowSelect:!1,visible:!1,label:"",grid:e,freeze:"far",adaptiveColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),a=new Smart.Observable(n,n.observables);a.canNotify=!1,e.viewColumns.push(a),e._frozenFarColumns.splice(0,0,a);const i=new Smart.Grid.Column({dataField:"_commandColumn",allowSelect:!1,visible:e.editing.enabled&&e.editing.commandColumn.visible&&!e.editing.commandColumn.inline,label:"",grid:e,freeze:"far",commandColumn:!0,autoGenerated:!0,align:"center",cellsAlign:"center",width:""}),r=new Smart.Observable(i,i.observables);r.canNotify=!1,"near"===e.editing.commandColumn.position?(i.freeze="near",r.freeze="near",e.viewColumns.splice(o,0,r),e._frozenNearColumns.splice(o,0,r)):(e.viewColumns.push(r),e._frozenFarColumns.splice(0,0,r)),e._commandColumn=r;const d=new Smart.Grid.Column({allowSelect:!1,visible:e.selection.enabled&&e.selection.checkBoxes.enabled,dataField:"_checkBoxColumn",label:"",freeze:e.selection.checkBoxes.position,grid:e,selectionColumn:!0,autoGenerated:!0,cellsAlign:"center",width:32}),s=new Smart.Observable(d,d.observables);"near"===d.freeze?(e.viewColumns.splice(o,0,s),e._frozenNearColumns.splice(o,0,s)):(e.viewColumns.push(s),e._frozenFarColumns.splice(0,0,s)),e._selectionColumn=s,e._selectionColumn.canNotify=!1,e._observeColumns(),e._templateColumns()}get styleProperties(){return["grid-template-columns"]}_templateColumns(){const e=this,t=getComputedStyle(e),l=t.getPropertyValue("--smart-grid-template-columns").trim(),o=t.getPropertyValue("--smart-grid-column-gap").trim(),n=t.getPropertyValue("--smart-grid-row-gap").trim();if(e._rowGap=parseInt(n),e._columnGap=parseInt(o),e._maxHeight=parseInt(t.maxHeight),e._minHeight=parseInt(t.minHeight),"none"!==l){let t=0;for(let l=0;l<e.viewColumns.length;l++)e.viewColumns[l].autoGenerated&&(t+=e.viewColumns[l].visible?e.viewColumns[l].width:0);let o=[];const n=document.createElement("div");n.style.display="grid",n.style.gridTemplateColumns=l;for(let t=0;t<e.columns.length;t++)n.innerHTML+="<div></div>";n.style.width=e.clientWidth-t+"px",e.$.root.appendChild(n);const a=l.split(" ");for(let t=0;t<e.columns.length;t++)o[t]=n.children[t].offsetWidth,"auto"===a[t]&&(o[t]=null);n.parentNode.removeChild(n);let r=0;for(let t=0;t<e.viewColumns.length;t++){const l=e.viewColumns[t];l.autoGenerated||o[r]&&(l.width=l.templateWidth=o[r++])}}else for(let t=0;t<e.viewColumns.length;t++){const l=e.viewColumns[t];l.autoGenerated||l.templateWidth&&(l.width=l.templateWidth=null)}}onDetached(){const e=this;e._dialogRowDetail&&(e._dialogRowDetail.close(),e._dialogRowDetail=null)}_observeColumns(){const e=this,t=function(e,t,l,o){e.propertyChanged(t,l,o)};for(let l=0;l<e.viewColumns.length;l++){const o=e.viewColumns[l];o.onAction=function(){e._openMenu(this)},o.autoGenerated&&o.notify(function(e){o.canNotify=!1,t(o,e.propertyName,e.oldValue,e.newValue),o.canNotify=!0})}e.columns.notify(function(l){let o=null;if(l.path)return e.columns.canNotify=!1,t(l.target,l.propertyName,l.oldValue,l.newValue),void(e.columns.canNotify=!0);e.columns.canNotify=!1;const n=l.action;let a=0;switch(n){case"length":return void(e.columns.canNotify=!0);case"add":{const t=function(t){if(o=l.object[t],!1==o instanceof Smart.Grid.Column){o=new Smart.Grid.Column(o);const n=e.columns.canNotify;e.columns.canNotify=!1,l.object[t]=o,o=l.object[t],e.columns.canNotify=n}o.grid=e,o.freeze?e._frozenNearColumns.push(o):"far"===o.freeze&&e._frozenFarColumns.push(o);let n=e.viewColumns.length-e._frozenFarColumns.length;if(t<e.columns.length?e.viewColumns.splice(t+e._frozenNearColumns.length,0,o):e.viewColumns.splice(n,0,o),!e.columnByDataField[o.dataField])e.columnByDataField[o.dataField]=o;else{e.columnByDataField[o.dataField].children.push(o),o.parent=e.columnByDataField[o.dataField],o.valueField=o.dataField;const t=o.dataField+"_"+o.parent.children.length;e.columnByDataField[t]=o,o.dataField=t}e.onColumnInserted&&e.onColumnInserted(t,o)};for(let e=0;e<l.addedCount;e++)t(l.index+e);break}case"update":{o=l.object[l.index],!1==o instanceof Smart.Grid.Column&&(o=new Smart.Grid.Column(o)),o.grid=e;for(let t=0;t<l.index;t++)e.viewColumns[t].autoGenerated&&a++;e.viewColumns[a+l.index]=o,e.columnByDataField[o.dataField]=o,e.onColumnUpdated&&e.onColumnUpdated(l.index,o);break}case"remove":{o=l.removed[0];let t=l.index;for(let l=0;l<=t;l++)e.viewColumns[l].autoGenerated&&a++;e.viewColumns.splice(a+t,1),delete e.columnByDataField[o.dataField],e.onColumnRemoved&&e.onColumnRemoved(l.index,o);break}}e._initializeColumnGroupsHierarchy(),e._refreshColumnsResponsiveVisibility(),e._createColumnHeaderCellElements(),e._templateColumns(),e.refresh(),e.columns.canNotify=!0})}get _scrollWidth(){const e=this;if(e.__scrollWidth)return e.__scrollWidth;let t=0;for(let l=0;l<e.viewColumns.length;l++){const o=e.viewColumns[l];o.visible&&(t+=o.computedWidth)}return t=parseInt(t),e.__scrollWidth=t,e._scrollView.scrollWidth=t-e._clientSize.width,e.__scrollWidth}_horizontalScrollbarHandler(){const e=this;e.closeMenu(),e.isScrolling=!0,requestAnimationFrame(()=>{e._recycle(),e.isScrolling=!1})}_mouseWheelHandler(e){const t=this;t._scrollView.hScrollBar.$.hasClass("smart-hidden")&&t._scrollView.vScrollBar.$.hasClass("smart-hidden")||!t.disabled&&!t._scrollView.vScrollBar.$.hasClass("smart-hidden")&&(e.stopPropagation(),e.preventDefault(),t._scrollView.scrollTo(t._scrollView.scrollTop+t._getScrollCoefficient(e,t._clientSize.height)))}_refresh(){const e=this;if(e._isUpdating)return;const t=e.$.verticalScrollBar.offsetWidth;e.removeAttribute("grouped"),e.removeAttribute("tree");let l=!0;e.__autoHeightRows&&(e.__autoHeightRows=null,e._refreshColumnsResponsiveVisibility(),e._recycle(),l=!1),e.grouping.enabled&&e.dataSource.groupBy&&0<e.dataSource.groupBy.length?e.setAttribute("grouped",""):e.dataSource.boundHierarchy&&e.setAttribute("tree",""),(e.isInitialized||l)&&e._refreshColumnsResponsiveVisibility(),e._refreshLayout(),t!==e.$.verticalScrollBar.offsetWidth&&(e.__scrollWidth=null,e._refreshColumnsResponsiveVisibility(),e._refreshScrollBars()),e._refreshSelection(),e._recycle(),requestAnimationFrame(()=>{e._width=e.offsetWidth,e._height=e.offsetHeight})}_resizeHandler(e){const t=this,l=t.enableShadowDOM?e.composedPath()[0]:e.target;if(l===t&&!t._isUpdatingScrollBars){if(!t.isInitialized)return void t._render();t._isUpdatingScrollBars=!0,t._autoHeight=!1,t.$.content&&t.$.content.classList.remove("auto-height"),t.refresh(),t._isUpdatingScrollBars=!1}}_refreshColumnsResponsiveVisibility(){const e=this,t=e.$.columnContainer,l=e.$.columnNearContainer,o=e.$.columnFarContainer;let n=0,a=0,r=0,d=!1;for(let t=0;t<e.viewColumns.length;t++){const l=e.viewColumns[t];l._treeColumn=!1,!l.visible||l.autoGenerated||d||(l._treeColumn=!0,d=!0)}e._refreshColumnWidths();let s=0,u=0;for(let t=0;t<e.viewColumns.length;t++){const l=e.viewColumns[t];l.visible&&(l.freeze&&(!0===l.freeze||"near"===l.freeze?(n+=l.computedWidth,l.autoGenerated&&(s+=l.computedWidth)):"far"===l.freeze&&(a+=l.computedWidth,l.autoGenerated&&(u+=l.computedWidth))),r+=l.computedWidth)}t.style.width=r+"px",l.style.width=n+"px",o.style.width=a+"px",o.classList.remove("smart-hidden"),l.classList.remove("smart-hidden"),0===a&&o.classList.add("smart-hidden"),0===n&&l.classList.add("smart-hidden"),o.classList.remove("border-collapse"),a===u&&o.classList.add("border-collapse"),e._autoGeneratedColumnsNearWidth=s,e._autoGeneratedColumnsFarWidth=u,e._computedColumnsWidth=r,e._frozenColumnsNearWidth=n,e._frozenColumnsFarWidth=a}_selectStartHandler(e){const t=this;t.isScrolling||t.editing.isEditing||e.preventDefault()}setFocusable(e){const t=this;return t.disabled||!e?void t.removeAttribute("tabindex"):void(t.tabIndex=0)}_setLoadingIndicatorVisibility(){const e=this;return e.appearance.displayLoadingIndicator?void e.$.loadingIndicatorContainer.classList.remove("smart-visibility-hidden"):void e.$.loadingIndicatorContainer.classList.add("smart-visibility-hidden")}_refreshElementsVisibility(){const e=this,t=function(e,t){t?e.classList.remove("smart-hidden"):e.classList.add("smart-hidden")};if(t(e.$.placeholder,!e.rows||e.rows&&0===e.rows.length||0===e.columns.length),t(e.$.footer,e.footer.visible),t(e.$.header,e.header.visible),t(e.$.groupHeader,e.groupHeader.visible),t(e.$.columnHeader,e.columnHeader.visible&&0<e.columns.length),t(e.$.headerCommandBar,e.editing.commandBar.visible&&e.editing.enabled&&"far"!==e.editing.commandBar.position),t(e.$.footerCommandBar,e.editing.commandBar.visible&&e.editing.enabled&&"near"!==e.editing.commandBar.position),e.htmlColumnLastChild.classList.add("smart-visibility-hidden"),e.pager&&e.pager.visible&&e.paging.enabled)switch(e.pager.position){case"near":t(e.$.headerPager,!0),t(e.$.footerPager,!1);break;case"far":t(e.$.headerPager,!1),t(e.$.footerPager,!0);break;case"both":t(e.$.headerPager,!0),t(e.$.footerPager,!0);}else t(e.$.footerPager,!1),t(e.$.headerPager,!1);e._refreshRowHierarchy()}_refreshRowHierarchy(){const e=this;if((e.rowHierarchy=null,!(!e.grouping.enabled&&e.dataSource.groupBy&&0<e.dataSource.groupBy.length))&&e.dataSource.boundHierarchy){const t=e.dataSource.reservedNames,l=function(t){const l=new Smart.Grid.Row({data:t,index:e.rows.length});return e.rowById[l.id]=l,l},o=function(n,a){for(let r=0;r<n.length;r++){const i=n[r];let d=e.rowById[i.$.id];d||(d=l(i)),d.data=i,d.leaf=i[t.leaf]||!1,d.level=i[t.level],d.groupDataField=i.groupDataField,d.label=i.label,d.children=[],d.data&&(d.filtered=void 0===d.data.$.filtered||d.data.$.filtered),i.summaryRow&&(d.summaryRow=!0),(null===e._toggledRow||e._toggledRow&&e._toggledRow.id!==d.id)&&(d.expandHeight=0),i.parent?(d.parent=e.rowById[i.parent.$.id],d.parentId=i.parent.$.id):(d.parent=null,d.parentId=null);const s=d.expanded;if(!0===d.visible&&!1!==d.filtered)if(s||i[t.leaf]){if(a.push(d),i.children&&0<i.children.length){const e=o(i.children,[]);0===e.length&&(d.leaf=!0);for(let l=0;l<e.length;l++)a.push(e[l]);d.children=e}}else if(a.push(d),i.children&&0<i.children.length){const e=o(i.children,[]);0===e.length&&(d.leaf=!0),d.children=e}}return a};let n=e.dataSource.boundHierarchy;if(e.paging.enabled&&(n=n.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),e.rowHierarchy=o(n,[]),e._rowElements.length<e.rowHierarchy.length&&!e._toggledRow&&e._initializeRowElements(),e.grouping.summaryRow.visible&&!e.grouping.summaryRow.inline){const t=function(e,l,o,n){if(0!==e&&0<l.length&&l[l.length-1]&&!l[l.length-1].summaryRow){let t={label:" ",boundSource:[],groupDataField:o.data.groupDataField,$:{},summaryRow:!0,leaf:!0,level:e,expandHeight:0,siblings:l};t.$.id="SubRow"+n+"_"+o.data.$.id,o&&(t.parent=o.data,t.parentId=o.data.$.id),t.data=Object.assign(t),l.push(t)}for(let a=0;a<l.length;a++)l[a]&&l[a].data&&l[a].data.children&&t(e+1,l[a].data.children,l[a],a)};t(0,e.rowHierarchy,null,0)}}}applyContent(){}_refreshContentHeight(){const e=this;let t=e._clientSize.height;const l=window.scrollY,o=e.offsetHeight;e.$.container.classList.add("smart-hidden");const n=e.offsetHeight;return e.$.container.classList.remove("smart-hidden"),window.scrollY!==l&&window.scrollTo(window.scrollX,l),"hidden"===e.verticalScrollBarVisibility||o!==n||e._minHeight&&e._minHeight===o?(t=e._scrollHeight+e.$.columnHeader.offsetHeight+e.$.filterFooter.offsetHeight,e.$.content.style.height=t+"px",e._contentHeight=t,void(e._maxHeight<t?(e._autoHeight=!1,e.$.content.classList.remove("auto-height"),e.$.content.style.height=e._maxHeight+"px",e._contentHeight=e._maxHeight):(e._autoHeight=!0,e.$.content.classList.add("auto-height")))):void(e.header.visible&&(t-=e.$.header.offsetHeight),e.groupHeader.visible&&(t-=e.$.groupHeader.offsetHeight),e.footer.visible&&(t-=e.$.footer.offsetHeight),e.pager.visible&&(t-=e.$.headerPager.offsetHeight,t-=e.$.footerPager.offsetHeight),e.editing.enabled&&e.editing.commandBar.visible&&(t-=e.$.headerCommandBar.offsetHeight,t-=e.$.footerCommandBar.offsetHeight),e.$.content.style.height=t+"px",e._contentHeight=t)}appendChild(){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}removeChild(){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}get _contentBorder(){const e=this;if(e.__contentBorder)return e.__contentBorder;const t=getComputedStyle(e.$.content),l=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),o=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),n={left:l,top:o};return e.__contentBorder=n,n}_refreshLayout(){const e=this,t=e.rows;if(!e._layoutSuspended){if(e._visibleRows=null,e.__viewRows=null,e.__clientSize=null,e.__scrollHeight=null,e.__scrollWidth=null,e.__parentCells=null,e.$.columnFarContainer.classList.remove("vscroll"),e.$.scrollView.classList.remove("hscroll"),e.$.scrollView.classList.remove("vscroll"),e._refreshElementsVisibility(),e._refreshColumnHeights(),e._refreshContentHeight(),!(t&&t.url)&&(!t||null===t||0===t.length||0===e.columns.length))return e.$.placeholder.classList.remove("smart-hidden"),e.scrollWidth=0,void(e.scrollHeight=0);e.__columnHeaderHeight||(e.__columnHeaderHeight=e.$.columnHeader.offsetHeight),e.__filterFooterOffsetHeight||(e.__filterFooterOffsetHeight=e.$.filterFooter.classList.contains("smart-hidden")?0:e.$.filterFooter.offsetHeight);const l=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight;if(e.$.scrollView.style.height=l+"px",e.htmlColumnLastChild.style.height=e.__columnHeaderHeight+"px",e.paging.spinner.enabled&&e.paging.enabled){if(!e.pageScroll){const t=document.createElement("smart-scroll-bar");t.orientation="vertical",t.style.height="100%",t.style.width="100%",t.max=Math.ceil(e.dataSource.length/e.paging.pageSize),t.step=e.paging.spinner.step,t.largeStep=e.paging.spinner.step,t.setAttribute("spinner",""),t.setAttribute("smart-id","spinner"),t.ownerElement=e,e.addPropertyBinding("[[paging_spinner_step]]","step",t,e.$.columnHeader),t.addEventListener("change",function(t){e.paging.pageIndex=t.detail.value}),e.pageScroll=t}e.htmlColumnLastChild.appendChild(e.pageScroll)}else e.htmlColumnLastChild.innerHTML="";e._refreshScrollBars()}}_refreshScrollBars(){const e=this,t=e._scrollView.vScrollBar,l=e._scrollView.hScrollBar,o=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight,n=e.$.scrollView.offsetWidth,a=e._scrollWidth-n-e._contentBorder.left,i=e._scrollHeight-o-e._contentBorder.top,r=e._columnNearContainerComputedStyle?e._columnNearContainerComputedStyle:getComputedStyle(e.$.columnNearContainer),d=e._columnFarContainerComputedStyle?e._columnFarContainerComputedStyle:getComputedStyle(e.$.columnFarContainer),s=parseInt(e.$.columnNearContainer.style.width)+parseInt(r.borderRightWidth),u=parseInt(e.$.columnFarContainer.style.width)+parseInt(d.borderLeftWidth);if(e.__frozenNearWidth=s,e.__frozenFarWidth=u,e._columnNearContainerComputedStyle=r,e._columnFarContainerComputedStyle=d,e._refreshHorizontalScrollBarVisibility(a),e._refreshVerticalScrollBarVisibility(i),t.style.height=o+"px",e.computedVerticalScrollBarVisibility&&(!e.__scrollBarSize&&(e.__scrollBarSize=t.offsetWidth),e.__scrollWidth+=e.__scrollBarSize,e._refreshHorizontalScrollBarVisibility(e._scrollWidth-n-1),e.$.columnFarContainer.classList.add("vscroll"),e.htmlColumnLastChild.classList.remove("smart-visibility-hidden")),l.style.width=n+"px",l.style.left="0px",e.computedVerticalScrollBarVisibility&&e.computedHorizontalScrollBarVisibility&&(l.style.width=n-t.offsetWidth+"px",t.style.height=o-l.offsetHeight+"px"),e.computedHorizontalScrollBarVisibility?(e.$.scrollView.classList.add("hscroll"),e._autoHeight?(e.$.content.style.height="auto",e.$.scrollView.style.height="auto",e.$.scrollView.style.paddingBottom=l.offsetHeight+"px"):e.$.scrollView.style.paddingBottom=""):e.$.scrollView.classList.remove("hscroll"),(0<e.__frozenNearHeight||e._frozenNearRows&&0<e._frozenNearRows.length)&&!e.appearance.showVerticalScrollBarOnFixedColumns){const l=getComputedStyle(e.$.rowNearContainer),o=e.__frozenNearHeight+parseInt(l.borderBottomWidth);t.style.height=parseInt(t.style.height)-o+"px",t.style.top=o+"px",t.style.setProperty("--smart-scroll-bar-near-size",o+"px")}else e.appearance.showVerticalScrollBarOnFixedColumns&&(t.style.top="0px");if((0<e.__frozenFarHeight||e._frozenFarRows&&0<e._frozenFarRows.length)&&!e.appearance.showVerticalScrollBarOnFixedColumns){const l=getComputedStyle(e.$.rowFarContainer),o=-2+e.__frozenFarHeight+parseInt(l.borderTopWidth);t.style.height=parseInt(t.style.height)-o+"px",t.style.setProperty("--smart-scroll-bar-far-size",o+"px"),0===e.__frozenNearHeight&&(t.style.top="0px")}(0<s||0<u)&&!e.appearance.showHorizontalScrollBarOnFixedColumns&&(l.style.width=parseInt(l.style.width)-s-u+"px",l.style.left=s+"px",l.style.setProperty("--smart-scroll-bar-near-size",s+parseInt(r.borderRightWidth)+"px"),l.style.setProperty("--smart-scroll-bar-far-size",u+parseInt(r.borderLeftWidth)+"px"),e.computedVerticalScrollBarVisibility&&(!e.__scrollBarSize&&(e.__scrollBarSize=t.offsetWidth),l.style.setProperty("--smart-scroll-bar-far-size",u+e.__scrollBarSize+"px"))),t.refresh(),l.refresh()}_refreshHorizontalScrollBarVisibility(e){const t=this;t.scrollWidth=e,t.computedHorizontalScrollBarVisibility||(t.scrollLeft=0)}_refreshVerticalScrollBarVisibility(e){const t=this;return t._autoHeight?(t.scrollTop=0,void(t.scrollHeight=0)):void(t.computedHorizontalScrollBarVisibility&&(e+=t.$.horizontalScrollBar.offsetHeight),t.scrollHeight=e,t.paging.enabled&&t.paging.spinner.visible&&t.$.verticalScrollBarVisibility.classList.remove("smart-hidden"),!t.computedVerticalScrollBarVisibility&&(t.scrollTop=0))}_styleChangedHandler(e){const t=this;return e.detail.styleProperties.overflow||t.classList.contains("smart-grid-resize-mode")?void 0:e.detail.styleProperties["grid-template-columns"]?(t._templateColumns(),void t.refresh()):void(t.offsetWidth&&0<t.offsetHeight&&(t._resetCachedLayout(),t._refreshLayout(),t._recycle()))}_resetCachedLayout(){const e=this;e.__cellsCommandTemplate=null,e.__autoRowHeight=null,e.__autoHeightRows=null,e.__measuredColumnHeight=null,e.__columnHeaderHeight=null,e.__filterFooterOffsetHeight=null}_swipeLeftHandler(){}_swipeRightHandler(){}_getRowIndexByPosition(e){const t=this,l=(l=>{let o=0,n=l.length-1;if(0>=e)return 0;const a=l[l.length-1];if(-1!==a.top&&a.top<=e)return l.length-1;for(;!0;){const a=Math.floor((o+n)/2),i=l[a];if(t._isRowInPosition(i,e))return a;i.top<e?o=a+1:i.top>e?n=a-1:o=a+1}})(t._recyclingRows);return l}getViewRows(){const e=this;if(e.rowHierarchy)return e.rowHierarchy;let t=e.getVisibleRows();return t}get _recyclingRows(){const e=this;if(e.rowHierarchy)return e.rowHierarchy;let t=e.getVisibleRows();return e.paging.enabled&&(t=t.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),t}_isRowInPosition(e,t){const l=e.top,o=e.top+e.height;return 0!==e.height&&l<=t&&o>t}_renderColumnGroupHeaders(){const e=this;for(let t=0;t<e.columnGroups.length;t++){const l=e.columnGroups[t];l.column.render()}}_isLastVisibleColumn(e){const t=this;for(let l=t.viewColumns.length-1;0<=l;l--){const o=t.viewColumns[l];if(o.visible)return o===e}return!1}_recycle(e,t){var l=Math.max;const o=this;if(o._layoutSuspended)return;if(o._isUpdating)return;if(o.editing.isEditing&&(o.endEdit(),o._isUpdating))return;o._inputOverlay&&(o._inputOverlay.parentNode&&o._inputOverlay.parentNode.removeChild(o._inputOverlay),o._inputOverlay=null),o._selection.selectionRect&&o._refreshCellSelectionRect();const n=o._scrollView.scrollTop;let a,r=o._getRowIndexByPosition(n),d=o._recyclingRows,s=d[r],u=s?s.top:0,c=0,m=0,p=0,g=0;for(let a=0;a<o._cellsMerge.length;a++){const e=o._cellsMerge[a],t=d.indexOf(e.row);if(r>t&&r<=t+e.rowSpan&&(r=t,s=e.row,p=l(p,u-s.top),u=s.top,o.$.rowContainer.style.top=o.__frozenNearHeight-n+u+"px"),1<e.colSpan)for(let t=0;t<o.viewColumns.length;t++){const n=o.viewColumns[t];let a=n.autoGenerated?n:o.columnByDataField[n.dataField];if(a.visible&&a.left+a.computedWidth-o._scrollView.scrollLeft>=c&&a.left-a.computedWidth-o._scrollView.scrollLeft<o._clientSize.width){let t=o.columnByDataField[e.column.dataField];g=l(g,a.left-t.left+a.computedWidth);break}}}if(!1!==e||0<o._cellsMerge.length){for(let e=0;e<o._columnElements.length;e++){const t=o._columnElements[e];if(!t.parentNode)break;t.set("column",null,!1),t.classList.add("smart-visibility-hidden")}for(let e=0;e<o.columnGroups.length;e++){const t=o.columnGroups[e],l=t.element;l.style.left=t.left+"px",l.style.width=t.computedWidth+"px"}o._firstVisibleColumn=null,o._lastVisibleColumn=null;for(let e=0;e<o.viewColumns.length;e++){const t=o.viewColumns[e];let l=t;if(l.visible&&(!o._firstVisibleColumn&&(o._firstVisibleColumn=l),o._lastVisibleColumn=l),l.element&&(l===o._firstVisibleColumn?l.element.classList.add("smart-grid-column-border-collapse"):l.element.classList.remove("smart-grid-column-border-collapse")),l.freeze){(!0===l.freeze||"near"===l.freeze)&&l.visible&&(c+=l.computedWidth),l.visible?(l.element.classList.remove("smart-visibility-hidden"),l.render()):l.element.classList.add("smart-visibility-hidden");continue}if(l.visible&&l.left+l.computedWidth-o._scrollView.scrollLeft>=c-g&&l.left-l.computedWidth-o._scrollView.scrollLeft<o._clientSize.width){const e=o._columnElements[m++];e.set("column",l,!1),e.parentNode||o.$.columnContainer.appendChild(e),l.element=e,l.render(),void 0===a&&(a=l.left)}}}if((void 0===a&&(a=0),o.$.columnContainer.style.left=-o._scrollView.scrollLeft+"px",o.$.rowContainer.style.top=o.__frozenNearHeight-n+u+"px",!1!==t)&&o._rowElements){if(0<=r){m=0;let e=l(o._clientSize.height,o._overflowOffset);for(let t=r;t<d.length;t++){const l=d[t];if(0===l.height||!l.visible||!1===l.filtered||l.freeze)continue;const a=l.height;if(l.expandHeight&&(e+=o.offsetHeight+l.expandHeight),u+a>=n-p&&u<=n+e||o._autoHeight){const e=o._rowElements[m++];if(!e)break;l.element=e,l.grid=o,l.render()}else break;u+=a}}if(o._renderFrozenRows(),m<o._rowElements.length)for(let e=m;e<o._rowElements.length;e++){const e=o._rowElements[m++];e.classList.add("smart-hidden")}}}_renderFrozenRows(){const e=this;let t=!1,l=!1;0===e._frozenNearRows.length?e.$.rowNearContainer.classList.add("smart-hidden"):e.$.rowNearContainer.classList.remove("smart-hidden");for(let l=0;l<e._frozenNearRows.length;l++){const o=e._frozenNearRows[l];o.visible&&o.filtered&&(t=!0,o.element=e.$.rowNearContainer.children[l],!o.element&&(o.element=o.createElement(),e.$.rowNearContainer.appendChild(o.element)),o.render())}t||e.$.rowNearContainer.classList.add("smart-hidden"),0===e._frozenFarRows.length?e.$.rowFarContainer.classList.add("smart-hidden"):e.$.rowFarContainer.classList.remove("smart-hidden");for(let t=0;t<e._frozenFarRows.length;t++){const o=e._frozenFarRows[t];o.visible&&(l=!0),o.element=e.$.rowFarContainer.children[t],o.element||(o.element=o.createElement(),e.$.rowFarContainer.appendChild(o.element)),o.render()}l||e.$.rowFarContainer.classList.add("smart-hidden")}_recycleRotate(e,t,l,o,n){const a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=4;let d=0,s=0;return 0===i.width?(e.innerHTML=n,!1):(a.left>i.left&&(d=i.left-a.left),a.top<i.top&&(s=i.top-a.top),("left"===l||""===l)&&(d=r),"center"===l&&(d+=i.width/2-a.width/2),"right"===l&&(d+=i.width-a.width-r),("top"===o||""===o)&&(s=r),("center"===o||"middle"===o)&&(s+=i.height/2-a.height/2),"bottom"===o&&(s+=i.height-a.height-r),t.style.left=d+"px",t.style.top=s+"px",!0)}_virtualDataRequest(e){var t=Math.ceil;const l=this;let o=-1,n=-1;if(!l._rowElements&&"infinite"!==l.scrolling)return;if("virtual"===l.scrolling)for(let e=0;e<l._rowElements.length;e++){const t=l._rowElements[e],a=t.row,i=0==e?a.visibleIndex:o+e;t.classList.contains("smart-hidden")||(-1===o&&(o=i),-1!==i)&&(n=1+i)}else"infinite"===l.scrolling?(o=1/0,n=1/0):(o=0,n=l.dataSource.length);l.paging.enabled&&(o=l.paging.pageIndex*l.paging.pageSize,n=o+l.paging.pageSize),n!==1/0&&(n=Math.min(n,l.dataSource.length)),l.appearance.displayLoadingIndicator=!0,l._setLoadingIndicatorVisibility();const a={first:o,last:n,sorting:l.getSortedColumns(),filtering:l.getFilteredColumns(),grouping:[],row:l._toggledRow?l._toggledRow.data:null,action:e},i=l.dataSource.length;l.dataSource.onVirtualDataSourceRequested(function(){l.appearance.displayLoadingIndicator=!1,l._setLoadingIndicatorVisibility(),l._toggledRow=null,l.dataSource.length===i?l.dataSource.virtualDataSourceOnExpand&&l.refresh():(l.paging.enabled&&(l.$.headerPager.querySelector("smart-pager").pagesCount=t(l.dataSource.length/l.paging.pageSize),l.$.footerPager.querySelector("smart-pager").pagesCount=t(l.dataSource.length/l.paging.pageSize)),l._initializeRows(),l._initializeRowElements(),l.refresh(),l._refreshPagesCount()),l._recycle()},a)}_verticalScrollbarHandler(e){const t=this;t.menu&&t.menu.column&&t.closeMenu(),t.isScrolling=!0,t._scrollTimer&&clearTimeout(t._scrollTimer);t._layoutSuspended||(t._scrollTimer=setTimeout(()=>(t._recycle(!1),t.isScrolling=!1,e.max===e.value&&(t.$.fireEvent("scrollBottomReached"),"infinite"===t.scrolling)?void t._virtualDataRequest("scroll"):void("virtual"===t.scrolling&&t._virtualDataRequest("scroll"),e.min===e.value&&t.$.fireEvent("scrollTopReached")))))}clearRows(){const e=this;e.dataSource=new Smart.DataAdapter({dataSource:[]}),e.clearSelection()}dataBind(){const e=this;delete e.__autoRowHeight,null===e.dataSource?e.clearRows():Array.isArray(e.dataSource)&&(e.dataSource=new Smart.DataAdapter({dataSource:e.dataSource}));const t=e._sortedColumns;e.clearSort(),e._initColumns&&0===e._initColumns.length&&(e.columns=[],e._renderColumns(!0)),e._renderRows(),"virtual"===e.scrolling||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.paging.enabled&&(!e.dataSource||e.dataSource&&!e.dataSource.url)&&e._refreshPagesCount(),t&&e._refreshSort(t)}refresh(e){const t=this;t.isInitialized&&(e&&(t._initializeRows(),t._initializeRowElements()),t._refresh())}refreshView(){const e=this;e._recycle()}beginUpdate(){const e=this;e._isUpdating||(e._isUpdating=0),e._isUpdating++}endUpdate(e){const t=this;t._isUpdating--,0>t._isUpdating&&(t._isUpdating=0),!1===e?t.refreshView():t.refresh()}}),function(){"use strict";Smart.Grid.Extend=function(e){if(e){const t=Object.getOwnPropertyNames(e.prototype);for(let l in t){const o=t[l];"constructor"!==o&&(Smart.Grid.prototype[o]=e.prototype[o])}}},Smart.Grid.Extend(Smart.Utilities.Grid.Resize),Smart.Grid.Extend(Smart.Utilities.Grid.Pager),Smart.Grid.Extend(Smart.Utilities.Grid.Filter),Smart.Grid.Extend(Smart.Utilities.Grid.Sort),Smart.Grid.Extend(Smart.Utilities.Grid.Menu),Smart.Grid.Extend(Smart.Utilities.Grid.Select),Smart.Grid.Extend(Smart.Utilities.Grid.Edit),Smart.Grid.Extend(Smart.Utilities.Grid.Group),Smart.Grid.Extend(Smart.Utilities.Grid.Tree),Smart.Grid.Extend(Smart.Utilities.Grid.Export),Smart.Grid.Extend(Smart.Utilities.Grid.Chart),Smart.Grid.Cell=Smart.Utilities.Grid.Cell,Smart.Grid.Row=Smart.Utilities.Grid.Row,Smart.Grid.Column=Smart.Utilities.Grid.Column}();